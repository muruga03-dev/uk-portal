{"ast":null,"code":"import _objectSpread from\"C:/Users/murug/OneDrive/Desktop/uk-portal/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useMemo,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminDashboard=()=>{const API_BASE=process.env.REACT_APP_API_URL||\"http://localhost:5000\";const token=localStorage.getItem(\"adminToken\");const headers={Authorization:\"Bearer \".concat(token)};// Core states\nconst[families,setFamilies]=useState([]);const[events,setEvents]=useState([]);const[workers,setWorkers]=useState([]);const[historyItems,setHistoryItems]=useState([]);const[gallery,setGallery]=useState([]);// UI states\nconst[loading,setLoading]=useState(false);const[errorMsg,setErrorMsg]=useState(\"\");// Forms states\nconst[newFamily,setNewFamily]=useState({familyId:\"\",leaderName:\"\",email:\"\",password:\"\",members:\"\",phone:\"\",address:\"\"});const[newEvent,setNewEvent]=useState({title:\"\",date:\"\"});const[newWorker,setNewWorker]=useState({type:\"\",description:\"\"});const[newHistory,setNewHistory]=useState({contentEN:\"\",contentTA:\"\"});const[galleryFile,setGalleryFile]=useState(null);const[galleryMeta,setGalleryMeta]=useState({title:\"\",description:\"\"});// Tax states\nconst[selectedFamilies,setSelectedFamilies]=useState([]);const[selectAll,setSelectAll]=useState(false);const[taxMonth,setTaxMonth]=useState(()=>{const d=new Date();return\"\".concat(d.getFullYear(),\"-\").concat(String(d.getMonth()+1).padStart(2,\"0\"));});const[taxAmount,setTaxAmount]=useState(\"\");const[taxPaid,setTaxPaid]=useState(false);// Search\nconst[searchFamily,setSearchFamily]=useState(\"\");// Load all data\nconst loadAll=async()=>{if(!token){setErrorMsg(\"Please log in to access dashboard.\");return;}try{setLoading(true);const[fRes,eRes,wRes,hRes,gRes]=await Promise.all([axios.get(\"\".concat(API_BASE,\"/api/admin/families\"),{headers}),axios.get(\"\".concat(API_BASE,\"/api/admin/events\"),{headers}),axios.get(\"\".concat(API_BASE,\"/api/admin/workers\"),{headers}),axios.get(\"\".concat(API_BASE,\"/api/admin/history\"),{headers}),axios.get(\"\".concat(API_BASE,\"/api/admin/gallery\"),{headers})]);setFamilies(fRes.data||[]);setEvents(eRes.data||[]);setWorkers(wRes.data||[]);setHistoryItems(hRes.data||[]);setGallery(gRes.data||[]);setErrorMsg(\"\");}catch(_unused){setErrorMsg(\"Error loading data, please try again later.\");}finally{setLoading(false);}};useEffect(()=>{loadAll();},[]);// Define handlers for CRUD operations and interactions\n// Create Family\nconst createFamily=async()=>{if(!newFamily.familyId||!newFamily.password||!newFamily.email||!newFamily.leaderName){alert(\"Family ID, Password, Email & Leader Name are required.\");return;}try{setLoading(true);await axios.post(\"\".concat(API_BASE,\"/api/admin/families\"),{familyId:newFamily.familyId,leaderName:newFamily.leaderName,email:newFamily.email,password:newFamily.password,members:newFamily.members?newFamily.members.split(\",\").map(m=>m.trim()):[],phone:newFamily.phone,address:newFamily.address},{headers});setNewFamily({familyId:\"\",leaderName:\"\",email:\"\",password:\"\",members:\"\",phone:\"\",address:\"\"});await loadAll();}catch(err){var _err$response,_err$response$data;alert(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||\"Failed to create family.\");}finally{setLoading(false);}};// Approve or Reject Family\nconst approveFamily=async function(id){let approve=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(!window.confirm(\"Are you sure to \".concat(approve?\"approve\":\"reject\",\" this family?\")))return;try{setLoading(true);await axios.post(\"\".concat(API_BASE,\"/api/admin/\").concat(approve?\"families/approve\":\"families/reject\"),{id},{headers});await loadAll();}catch(_unused2){alert(\"Failed to update family status.\");}finally{setLoading(false);}};// Toggle Family Selection\nconst toggleFamilySelection=id=>{setSelectedFamilies(prev=>prev.includes(id)?prev.filter(fId=>fId!==id):[...prev,id]);};const toggleSelectAll=()=>{if(selectAll){setSelectedFamilies([]);setSelectAll(false);}else{setSelectedFamilies(families.map(f=>f._id));setSelectAll(true);}};// Add Tax in Bulk\nconst addTaxBulk=async()=>{if(!taxMonth||!taxAmount){alert(\"Please specify Month and Amount for tax.\");return;}if(!selectedFamilies.length){alert(\"Please select one or more families.\");return;}try{setLoading(true);await axios.post(\"\".concat(API_BASE,\"/api/admin/families/tax\"),{familyIds:selectedFamilies,month:taxMonth,amount:taxAmount,paid:taxPaid},{headers});setSelectedFamilies([]);setSelectAll(false);setTaxAmount(\"\");setTaxPaid(false);await loadAll();}catch(_unused3){alert(\"Failed to add tax.\");}finally{setLoading(false);}};// Mark Family Tax Paid\nconst markFamilyTax=async(familyId,month)=>{try{setLoading(true);await axios.patch(\"\".concat(API_BASE,\"/api/admin/families/\").concat(familyId,\"/tax\"),{month,paid:true},{headers});await loadAll();}catch(_unused4){alert(\"Failed to mark tax paid.\");}finally{setLoading(false);}};// Event Handlers\nconst addEvent=async()=>{if(!newEvent.title||!newEvent.date){alert(\"Please enter event title and date.\");return;}try{setLoading(true);await axios.post(\"\".concat(API_BASE,\"/api/admin/events\"),newEvent,{headers});setNewEvent({title:\"\",date:\"\"});await loadAll();}catch(_unused5){alert(\"Failed to add event.\");}finally{setLoading(false);}};const deleteEvent=async id=>{if(!window.confirm(\"Delete selected event?\"))return;try{setLoading(true);await axios.delete(\"\".concat(API_BASE,\"/api/admin/events/\").concat(id),{headers});await loadAll();}catch(_unused6){alert(\"Failed to delete event.\");}finally{setLoading(false);}};// Worker Handlers\nconst addWorker=async()=>{if(!newWorker.type){alert(\"Enter worker type.\");return;}try{setLoading(true);await axios.post(\"\".concat(API_BASE,\"/api/admin/workers\"),newWorker,{headers});setNewWorker({type:\"\",description:\"\"});await loadAll();}catch(_unused7){alert(\"Failed to add worker.\");}finally{setLoading(false);}};const deleteWorker=async id=>{if(!window.confirm(\"Delete selected worker?\"))return;try{setLoading(true);await axios.delete(\"\".concat(API_BASE,\"/api/admin/workers/\").concat(id),{headers});await loadAll();}catch(_unused8){alert(\"Failed to delete worker.\");}finally{setLoading(false);}};// History Handlers\nconst addHistory=async()=>{if(!newHistory.contentEN&&!newHistory.contentTA){alert(\"Enter content in at least one language.\");return;}try{setLoading(true);await axios.post(\"\".concat(API_BASE,\"/api/admin/history\"),{content:{en:newHistory.contentEN,ta:newHistory.contentTA}},{headers});setNewHistory({contentEN:\"\",contentTA:\"\"});await loadAll();}catch(_unused9){alert(\"Failed to add history.\");}finally{setLoading(false);}};const deleteHistory=async id=>{if(!window.confirm(\"Delete selected history entry?\"))return;try{setLoading(true);await axios.delete(\"\".concat(API_BASE,\"/api/admin/history/\").concat(id),{headers});await loadAll();}catch(_unused0){alert(\"Failed to delete history.\");}finally{setLoading(false);}};// Gallery Handlers\nconst uploadGallery=async()=>{if(!galleryFile){alert(\"Select a file to upload.\");return;}try{setLoading(true);const fd=new FormData();fd.append(\"image\",galleryFile);fd.append(\"title\",galleryMeta.title||\"Untitled\");fd.append(\"description\",galleryMeta.description||\"\");await axios.post(\"\".concat(API_BASE,\"/api/admin/gallery/upload\"),fd,{headers:_objectSpread(_objectSpread({},headers),{},{\"Content-Type\":\"multipart/form-data\"})});setGalleryFile(null);setGalleryMeta({title:\"\",description:\"\"});await loadAll();}catch(_unused1){alert(\"Failed to upload gallery item.\");}finally{setLoading(false);}};const deleteGallery=async id=>{if(!window.confirm(\"Delete selected gallery item?\"))return;try{setLoading(true);await axios.delete(\"\".concat(API_BASE,\"/api/admin/gallery/\").concat(id),{headers});await loadAll();}catch(_unused10){alert(\"Failed to delete gallery item.\");}finally{setLoading(false);}};// Filtering\nconst filteredFamilies=useMemo(()=>{if(!searchFamily.trim())return families;const l=searchFamily.toLowerCase();return families.filter(f=>{var _f$email;return(f.familyId+' '+f.leaderName+' '+((_f$email=f.email)!==null&&_f$email!==void 0?_f$email:'')).toLowerCase().includes(l);});},[families,searchFamily]);// Tax filtered groups\nconst paidFamilies=useMemo(()=>families.filter(f=>{var _f$taxHistory;return(_f$taxHistory=f.taxHistory)===null||_f$taxHistory===void 0?void 0:_f$taxHistory.some(t=>t.month===taxMonth&&t.paid);}),[families,taxMonth]);const unpaidFamilies=useMemo(()=>families.filter(f=>{var _f$taxHistory2;return!((_f$taxHistory2=f.taxHistory)!==null&&_f$taxHistory2!==void 0&&_f$taxHistory2.some(t=>t.month===taxMonth&&t.paid));}),[families,taxMonth]);const totalPaid=useMemo(()=>{let t=0;paidFamilies.forEach(f=>{const tx=f.taxHistory.find(tax=>tax.month===taxMonth&&tax.paid);t+=Number((tx===null||tx===void 0?void 0:tx.amount)||0);});return t;},[paidFamilies,taxMonth]);return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-[1200px] mx-auto p-6 space-y-16\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center text-4xl font-bold mb-10\",children:\"Admin Dashboard\"}),errorMsg&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-red-600\",children:errorMsg}),loading&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-blue-600\",children:\"Loading...\"}),/*#__PURE__*/_jsxs(\"section\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2 flex flex-col bg-white rounded shadow p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 mb-6 flex-wrap\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"search\",placeholder:\"Search families...\",value:searchFamily,onChange:e=>setSearchFamily(e.target.value),className:\"flex-grow p-2 border rounded max-w-sm\"}),/*#__PURE__*/_jsx(\"button\",{onClick:loadAll,className:\"btn-secondary\",children:\"Refresh\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(confirm(\"Send notifications to all families?\"))alert(\"Notifications queued\");},className:\"btn-yellow\",children:\"Notify All\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-auto max-h-96 rounded border\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full border-collapse text-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"sticky top-0 bg-gray-100\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"w-12 text-center\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:toggleSelectAll,checked:selectAll})}),/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Leader\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"Approved\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Latest Tax\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"Actions\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[!filteredFamilies.length&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"6\",className:\"text-center p-4\",children:\"No families found.\"})}),filteredFamilies.map(f=>{var _f$taxHistory3;const lastTax=(_f$taxHistory3=f.taxHistory)===null||_f$taxHistory3===void 0?void 0:_f$taxHistory3.slice(-1)[0];return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedFamilies.includes(f._id),onChange:()=>toggleFamilySelection(f._id)})}),/*#__PURE__*/_jsx(\"td\",{children:f.familyId}),/*#__PURE__*/_jsx(\"td\",{children:f.leaderName}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:f.approved?\"Yes\":\"No\"}),/*#__PURE__*/_jsx(\"td\",{children:lastTax?\"\".concat(lastTax.month,\": \\u20B9\").concat(lastTax.amount,\" (\").concat(lastTax.paid?'Paid':'Pending',\")\"):'-'}),/*#__PURE__*/_jsxs(\"td\",{className:\"text-center space-x-1\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>approveFamily(f._id,true),className:\"btn-green btn-xs\",disabled:loading,children:\"Approve\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>approveFamily(f._id,false),className:\"btn-red btn-xs\",disabled:loading,children:\"Reject\"})]})]},f._id);})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded shadow p-6 sticky top-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold mb-4\",children:\"Create Family\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Family ID\",className:\"input\",value:newFamily.familyId,onChange:e=>setNewFamily(_objectSpread(_objectSpread({},newFamily),{},{familyId:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Leader Name\",className:\"input\",value:newFamily.leaderName,onChange:e=>setNewFamily(_objectSpread(_objectSpread({},newFamily),{},{leaderName:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Email\",className:\"input\",value:newFamily.email,onChange:e=>setNewFamily(_objectSpread(_objectSpread({},newFamily),{},{email:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Password\",type:\"password\",className:\"input\",value:newFamily.password,onChange:e=>setNewFamily(_objectSpread(_objectSpread({},newFamily),{},{password:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Members (comma-separated)\",className:\"input\",value:newFamily.members,onChange:e=>setNewFamily(_objectSpread(_objectSpread({},newFamily),{},{members:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Phone\",className:\"input\",value:newFamily.phone,onChange:e=>setNewFamily(_objectSpread(_objectSpread({},newFamily),{},{phone:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Address\",className:\"input\",value:newFamily.address,onChange:e=>setNewFamily(_objectSpread(_objectSpread({},newFamily),{},{address:e.target.value}))}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-blue w-full mt-4\",onClick:createFamily,disabled:loading,children:\"Create\"})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12\",children:[/*#__PURE__*/_jsxs(\"article\",{className:\"bg-white rounded shadow p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Add Tax (Bulk)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:toggleSelectAll,checked:selectAll}),\" Select All Families\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"month\",className:\"input\",value:taxMonth,onChange:e=>setTaxMonth(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Amount\",className:\"input\",value:taxAmount,onChange:e=>setTaxAmount(e.target.value)}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:taxPaid,onChange:e=>setTaxPaid(e.target.checked)}),\" Mark as Paid\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-green w-full\",onClick:addTaxBulk,disabled:loading,children:\"Add\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-center font-semibold mt-3\",children:[\"Total Paid: \\u20B9\",totalPaid]})]})]}),/*#__PURE__*/_jsxs(\"article\",{className:\"bg-white rounded shadow p-6 max-h-[400px] overflow-auto\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4\",children:[\"Paid Families (\",paidFamilies.length,\")\"]}),!paidFamilies.length&&/*#__PURE__*/_jsx(\"p\",{children:\"No paid families.\"}),paidFamilies.map(f=>{var _f$taxHistory$find;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 rounded p-2 mb-2 flex justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[f.familyId,\" \\u2014 \",f.leaderName]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",((_f$taxHistory$find=f.taxHistory.find(t=>t.month===taxMonth&&t.paid))===null||_f$taxHistory$find===void 0?void 0:_f$taxHistory$find.amount)||0]})]},f._id);})]}),/*#__PURE__*/_jsxs(\"article\",{className:\"bg-white rounded shadow p-6 max-h-[400px] overflow-auto\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4\",children:[\"Pending Families (\",unpaidFamilies.length,\")\"]}),!unpaidFamilies.length&&/*#__PURE__*/_jsx(\"p\",{children:\"No pending families.\"}),unpaidFamilies.map(f=>{var _f$taxHistory$find2;const amount=((_f$taxHistory$find2=f.taxHistory.find(t=>t.month===taxMonth))===null||_f$taxHistory$find2===void 0?void 0:_f$taxHistory$find2.amount)||taxAmount||\"-\";return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-50 rounded p-2 mb-2 flex justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[f.familyId,\" \\u2014 \",f.leaderName,\" \\u2022 \\u20B9\",amount]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-blue\",onClick:()=>markFamilyTax(f._id,taxMonth),disabled:loading,children:\"Mark Paid\"})]},f._id);})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12\",children:[/*#__PURE__*/_jsxs(\"article\",{className:\"bg-white rounded shadow p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Events\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"divide-y divide-gray-200 max-h-64 overflow-auto\",children:[!events.length&&/*#__PURE__*/_jsx(\"li\",{children:\"No events found.\"}),events.map(ev=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex justify-between py-2 items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[ev.title,\" (\",new Date(ev.date).toLocaleDateString(),\")\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-red btn-xs\",onClick:()=>deleteEvent(ev._id),children:\"Delete\"})]},ev._id))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-3 gap-2 mt-4\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input\",placeholder:\"Title\",value:newEvent.title,onChange:e=>setNewEvent(_objectSpread(_objectSpread({},newEvent),{},{title:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"date\",value:newEvent.date,onChange:e=>setNewEvent(_objectSpread(_objectSpread({},newEvent),{},{date:e.target.value}))}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-green\",onClick:addEvent,children:\"Add\"})]})]}),/*#__PURE__*/_jsxs(\"article\",{className:\"bg-white rounded shadow p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Workers\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"divide-y divide-gray-200 max-h-64 overflow-auto\",children:[!workers.length&&/*#__PURE__*/_jsx(\"li\",{children:\"No workers found.\"}),workers.map(w=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex justify-between py-2 items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[w.type,\" \\u2014 \",w.description]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-red btn-xs\",onClick:()=>deleteWorker(w._id),children:\"Delete\"})]},w._id))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 gap-2 mt-4\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input\",placeholder:\"Type\",value:newWorker.type,onChange:e=>setNewWorker(_objectSpread(_objectSpread({},newWorker),{},{type:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",placeholder:\"Description\",value:newWorker.description,onChange:e=>setNewWorker(_objectSpread(_objectSpread({},newWorker),{},{description:e.target.value}))}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-green\",onClick:addWorker,children:\"Add\"})]})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"article\",{className:\"bg-white rounded shadow p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"History\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"divide-y divide-gray-200 max-h-64 overflow-auto\",children:[!historyItems.length&&/*#__PURE__*/_jsx(\"li\",{children:\"No history records.\"}),historyItems.map(item=>{var _item$content,_item$content2;return/*#__PURE__*/_jsxs(\"li\",{className:\"flex justify-between py-2 items-center\",children:[/*#__PURE__*/_jsx(\"div\",{children:((_item$content=item.content)===null||_item$content===void 0?void 0:_item$content.en)||((_item$content2=item.content)===null||_item$content2===void 0?void 0:_item$content2.ta)}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-red btn-xs\",onClick:()=>deleteHistory(item._id),children:\"Delete\"})]},item._id);})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-3 gap-2 mt-4\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input\",placeholder:\"Content English\",value:newHistory.contentEN,onChange:e=>setNewHistory(_objectSpread(_objectSpread({},newHistory),{},{contentEN:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",placeholder:\"Content Other\",value:newHistory.contentTA,onChange:e=>setNewHistory(_objectSpread(_objectSpread({},newHistory),{},{contentTA:e.target.value}))}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-green\",onClick:addHistory,children:\"Add\"})]})]}),/*#__PURE__*/_jsxs(\"article\",{className:\"bg-white rounded shadow p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Gallery\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-3 gap-4\",children:[!gallery.length&&/*#__PURE__*/_jsx(\"p\",{children:\"No gallery items.\"}),gallery.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded p-4 flex flex-col\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"\".concat(API_BASE).concat(item.url),target:\"_blank\",rel:\"noreferrer\",className:\"mb-2 truncate text-blue-600 hover:underline\",children:item.title||\"Untitled\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mb-4 truncate\",children:item.description||\"\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-red btn-xs mt-auto\",onClick:()=>deleteGallery(item._id),children:\"Delete\"})]},item._id))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-3 gap-3 mt-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:e=>setGalleryFile(e.target.files[0])}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",placeholder:\"Title\",value:galleryMeta.title,onChange:e=>setGalleryMeta(_objectSpread(_objectSpread({},galleryMeta),{},{title:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",placeholder:\"Description\",value:galleryMeta.description,onChange:e=>setGalleryMeta(_objectSpread(_objectSpread({},galleryMeta),{},{description:e.target.value}))}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-green\",onClick:uploadGallery,disabled:!galleryFile,children:\"Upload\"})]})]})]})]});};export default AdminDashboard;","map":{"version":3,"names":["React","useEffect","useMemo","useState","axios","jsx","_jsx","jsxs","_jsxs","AdminDashboard","API_BASE","process","env","REACT_APP_API_URL","token","localStorage","getItem","headers","Authorization","concat","families","setFamilies","events","setEvents","workers","setWorkers","historyItems","setHistoryItems","gallery","setGallery","loading","setLoading","errorMsg","setErrorMsg","newFamily","setNewFamily","familyId","leaderName","email","password","members","phone","address","newEvent","setNewEvent","title","date","newWorker","setNewWorker","type","description","newHistory","setNewHistory","contentEN","contentTA","galleryFile","setGalleryFile","galleryMeta","setGalleryMeta","selectedFamilies","setSelectedFamilies","selectAll","setSelectAll","taxMonth","setTaxMonth","d","Date","getFullYear","String","getMonth","padStart","taxAmount","setTaxAmount","taxPaid","setTaxPaid","searchFamily","setSearchFamily","loadAll","fRes","eRes","wRes","hRes","gRes","Promise","all","get","data","_unused","createFamily","alert","post","split","map","m","trim","err","_err$response","_err$response$data","response","message","approveFamily","id","approve","arguments","length","undefined","window","confirm","_unused2","toggleFamilySelection","prev","includes","filter","fId","toggleSelectAll","f","_id","addTaxBulk","familyIds","month","amount","paid","_unused3","markFamilyTax","patch","_unused4","addEvent","_unused5","deleteEvent","delete","_unused6","addWorker","_unused7","deleteWorker","_unused8","addHistory","content","en","ta","_unused9","deleteHistory","_unused0","uploadGallery","fd","FormData","append","_objectSpread","_unused1","deleteGallery","_unused10","filteredFamilies","l","toLowerCase","_f$email","paidFamilies","_f$taxHistory","taxHistory","some","t","unpaidFamilies","_f$taxHistory2","totalPaid","forEach","tx","find","tax","Number","className","children","placeholder","value","onChange","e","target","onClick","checked","colSpan","_f$taxHistory3","lastTax","slice","approved","disabled","_f$taxHistory$find","_f$taxHistory$find2","ev","toLocaleDateString","w","item","_item$content","_item$content2","href","url","rel","files"],"sources":["C:/Users/murug/OneDrive/Desktop/uk-portal/client/src/pages/AdminDashboard.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from \"react\";\nimport axios from \"axios\";\n\nconst AdminDashboard = () => {\n  const API_BASE = process.env.REACT_APP_API_URL || \"http://localhost:5000\";\n  const token = localStorage.getItem(\"adminToken\");\n  const headers = { Authorization: `Bearer ${token}` };\n\n  // Core states\n  const [families, setFamilies] = useState([]);\n  const [events, setEvents] = useState([]);\n  const [workers, setWorkers] = useState([]);\n  const [historyItems, setHistoryItems] = useState([]);\n  const [gallery, setGallery] = useState([]);\n\n  // UI states\n  const [loading, setLoading] = useState(false);\n  const [errorMsg, setErrorMsg] = useState(\"\");\n\n  // Forms states\n  const [newFamily, setNewFamily] = useState({\n    familyId: \"\", leaderName: \"\", email: \"\",\n    password: \"\", members: \"\", phone: \"\", address: \"\"\n  });\n  const [newEvent, setNewEvent] = useState({ title: \"\", date: \"\" });\n  const [newWorker, setNewWorker] = useState({ type: \"\", description: \"\" });\n  const [newHistory, setNewHistory] = useState({ contentEN: \"\", contentTA: \"\" });\n  const [galleryFile, setGalleryFile] = useState(null);\n  const [galleryMeta, setGalleryMeta] = useState({ title: \"\", description: \"\" });\n\n  // Tax states\n  const [selectedFamilies, setSelectedFamilies] = useState([]);\n  const [selectAll, setSelectAll] = useState(false);\n  const [taxMonth, setTaxMonth] = useState(() => {\n    const d = new Date();\n    return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, \"0\")}`;\n  });\n  const [taxAmount, setTaxAmount] = useState(\"\");\n  const [taxPaid, setTaxPaid] = useState(false);\n\n  // Search\n  const [searchFamily, setSearchFamily] = useState(\"\");\n\n  // Load all data\n  const loadAll = async () => {\n    if (!token) {\n      setErrorMsg(\"Please log in to access dashboard.\");\n      return;\n    }\n    try {\n      setLoading(true);\n      const [fRes, eRes, wRes, hRes, gRes] = await Promise.all([\n        axios.get(`${API_BASE}/api/admin/families`, { headers }),\n        axios.get(`${API_BASE}/api/admin/events`, { headers }),\n        axios.get(`${API_BASE}/api/admin/workers`, { headers }),\n        axios.get(`${API_BASE}/api/admin/history`, { headers }),\n        axios.get(`${API_BASE}/api/admin/gallery`, { headers }),\n      ]);\n      setFamilies(fRes.data || []);\n      setEvents(eRes.data || []);\n      setWorkers(wRes.data || []);\n      setHistoryItems(hRes.data || []);\n      setGallery(gRes.data || []);\n      setErrorMsg(\"\");\n    } catch {\n      setErrorMsg(\"Error loading data, please try again later.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    loadAll();\n  }, []);\n\n  // Define handlers for CRUD operations and interactions\n\n  // Create Family\n  const createFamily = async () => {\n    if (!newFamily.familyId || !newFamily.password || !newFamily.email || !newFamily.leaderName) {\n      alert(\"Family ID, Password, Email & Leader Name are required.\");\n      return;\n    }\n    try {\n      setLoading(true);\n      await axios.post(`${API_BASE}/api/admin/families`, {\n        familyId: newFamily.familyId,\n        leaderName: newFamily.leaderName,\n        email: newFamily.email,\n        password: newFamily.password,\n        members: newFamily.members ? newFamily.members.split(\",\").map(m => m.trim()) : [],\n        phone: newFamily.phone,\n        address: newFamily.address,\n      }, { headers });\n      setNewFamily({ familyId: \"\", leaderName: \"\", email: \"\", password: \"\", members: \"\", phone: \"\", address: \"\" });\n      await loadAll();\n    } catch (err) {\n      alert(err.response?.data?.message || \"Failed to create family.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Approve or Reject Family\n  const approveFamily = async (id, approve = true) => {\n    if (!window.confirm(`Are you sure to ${approve ? \"approve\" : \"reject\"} this family?`)) return;\n    try {\n      setLoading(true);\n      await axios.post(`${API_BASE}/api/admin/${approve ? \"families/approve\" : \"families/reject\"}`, { id }, { headers });\n      await loadAll();\n    } catch {\n      alert(\"Failed to update family status.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Toggle Family Selection\n  const toggleFamilySelection = (id) => {\n    setSelectedFamilies(prev => prev.includes(id) ? prev.filter(fId => fId !== id) : [...prev, id]);\n  };\n  const toggleSelectAll = () => {\n    if (selectAll) {\n      setSelectedFamilies([]);\n      setSelectAll(false);\n    } else {\n      setSelectedFamilies(families.map(f => f._id));\n      setSelectAll(true);\n    }\n  };\n\n  // Add Tax in Bulk\n  const addTaxBulk = async () => {\n    if (!taxMonth || !taxAmount) {\n      alert(\"Please specify Month and Amount for tax.\");\n      return;\n    }\n    if (!selectedFamilies.length) {\n      alert(\"Please select one or more families.\");\n      return;\n    }\n    try {\n      setLoading(true);\n      await axios.post(`${API_BASE}/api/admin/families/tax`, {\n        familyIds: selectedFamilies,\n        month: taxMonth,\n        amount: taxAmount,\n        paid: taxPaid,\n      }, { headers });\n      setSelectedFamilies([]);\n      setSelectAll(false);\n      setTaxAmount(\"\");\n      setTaxPaid(false);\n      await loadAll();\n    } catch {\n      alert(\"Failed to add tax.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Mark Family Tax Paid\n  const markFamilyTax = async (familyId, month) => {\n    try {\n      setLoading(true);\n      await axios.patch(`${API_BASE}/api/admin/families/${familyId}/tax`, { month, paid: true }, { headers });\n      await loadAll();\n    } catch {\n      alert(\"Failed to mark tax paid.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Event Handlers\n  const addEvent = async () => {\n    if (!newEvent.title || !newEvent.date) {\n      alert(\"Please enter event title and date.\");\n      return;\n    }\n    try {\n      setLoading(true);\n      await axios.post(`${API_BASE}/api/admin/events`, newEvent, { headers });\n      setNewEvent({ title: \"\", date: \"\" });\n      await loadAll();\n    } catch {\n      alert(\"Failed to add event.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const deleteEvent = async (id) => {\n    if (!window.confirm(\"Delete selected event?\")) return;\n    try {\n      setLoading(true);\n      await axios.delete(`${API_BASE}/api/admin/events/${id}`, { headers });\n      await loadAll();\n    } catch {\n      alert(\"Failed to delete event.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Worker Handlers\n  const addWorker = async () => {\n    if (!newWorker.type) {\n      alert(\"Enter worker type.\");\n      return;\n    }\n    try {\n      setLoading(true);\n      await axios.post(`${API_BASE}/api/admin/workers`, newWorker, { headers });\n      setNewWorker({ type: \"\", description: \"\" });\n      await loadAll();\n    } catch {\n      alert(\"Failed to add worker.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const deleteWorker = async (id) => {\n    if (!window.confirm(\"Delete selected worker?\")) return;\n    try {\n      setLoading(true);\n      await axios.delete(`${API_BASE}/api/admin/workers/${id}`, { headers });\n      await loadAll();\n    } catch {\n      alert(\"Failed to delete worker.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // History Handlers\n  const addHistory = async () => {\n    if (!newHistory.contentEN && !newHistory.contentTA) {\n      alert(\"Enter content in at least one language.\");\n      return;\n    }\n    try {\n      setLoading(true);\n      await axios.post(`${API_BASE}/api/admin/history`, {\n        content: { en: newHistory.contentEN, ta: newHistory.contentTA }\n      }, { headers });\n      setNewHistory({ contentEN: \"\", contentTA: \"\" });\n      await loadAll();\n    } catch {\n      alert(\"Failed to add history.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const deleteHistory = async (id) => {\n    if (!window.confirm(\"Delete selected history entry?\")) return;\n    try {\n      setLoading(true);\n      await axios.delete(`${API_BASE}/api/admin/history/${id}`, { headers });\n      await loadAll();\n    } catch {\n      alert(\"Failed to delete history.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Gallery Handlers\n  const uploadGallery = async () => {\n    if (!galleryFile) {\n      alert(\"Select a file to upload.\");\n      return;\n    }\n    try {\n      setLoading(true);\n      const fd = new FormData();\n      fd.append(\"image\", galleryFile);\n      fd.append(\"title\", galleryMeta.title || \"Untitled\");\n      fd.append(\"description\", galleryMeta.description || \"\");\n      await axios.post(`${API_BASE}/api/admin/gallery/upload`, fd, {\n        headers: { ...headers, \"Content-Type\": \"multipart/form-data\" }\n      });\n      setGalleryFile(null);\n      setGalleryMeta({ title: \"\", description: \"\" });\n      await loadAll();\n    } catch {\n      alert(\"Failed to upload gallery item.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const deleteGallery = async (id) => {\n    if (!window.confirm(\"Delete selected gallery item?\")) return;\n    try {\n      setLoading(true);\n      await axios.delete(`${API_BASE}/api/admin/gallery/${id}`, { headers });\n      await loadAll();\n    } catch {\n      alert(\"Failed to delete gallery item.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Filtering\n  const filteredFamilies = useMemo(() => {\n    if (!searchFamily.trim()) return families;\n    const l = searchFamily.toLowerCase();\n    return families.filter(f => (f.familyId + ' ' + f.leaderName + ' ' + (f.email ?? '')).toLowerCase().includes(l));\n  }, [families, searchFamily]);\n\n  // Tax filtered groups\n  const paidFamilies = useMemo(() => families.filter(f => f.taxHistory?.some(t => t.month === taxMonth && t.paid)), [families, taxMonth]);\n  const unpaidFamilies = useMemo(() => families.filter(f => !f.taxHistory?.some(t => t.month === taxMonth && t.paid)), [families, taxMonth]);\n  const totalPaid = useMemo(() => {\n    let t = 0;\n    paidFamilies.forEach(f => {\n      const tx = f.taxHistory.find(tax => tax.month === taxMonth && tax.paid);\n      t += Number(tx?.amount || 0);\n    });\n    return t;\n  }, [paidFamilies, taxMonth]);\n\n  return (\n    <div className=\"max-w-[1200px] mx-auto p-6 space-y-16\">\n\n      <h1 className=\"text-center text-4xl font-bold mb-10\">Admin Dashboard</h1>\n\n      {errorMsg && <p className=\"text-center text-red-600\">{errorMsg}</p>}\n      {loading && <p className=\"text-center text-blue-600\">Loading...</p>}\n\n      {/* Families Section */}\n      <section className=\"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12\">\n        <div className=\"md:col-span-2 flex flex-col bg-white rounded shadow p-6\">\n          <div className=\"flex items-center gap-4 mb-6 flex-wrap\">\n            <input type=\"search\" placeholder=\"Search families...\" value={searchFamily} onChange={e => setSearchFamily(e.target.value)} className=\"flex-grow p-2 border rounded max-w-sm\"/>\n            <button onClick={loadAll} className=\"btn-secondary\">Refresh</button>\n            <button onClick={() => { if(confirm(\"Send notifications to all families?\")) alert(\"Notifications queued\") }} className=\"btn-yellow\">Notify All</button>\n          </div>\n          <div className=\"overflow-auto max-h-96 rounded border\">\n            <table className=\"min-w-full border-collapse text-sm\">\n              <thead className=\"sticky top-0 bg-gray-100\">\n                <tr>\n                  <th className=\"w-12 text-center\"><input type=\"checkbox\" onChange={toggleSelectAll} checked={selectAll} /></th>\n                  <th>ID</th>\n                  <th>Leader</th>\n                  <th className=\"text-center\">Approved</th>\n                  <th>Latest Tax</th>\n                  <th className=\"text-center\">Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {!filteredFamilies.length && <tr><td colSpan=\"6\" className=\"text-center p-4\">No families found.</td></tr>}\n                {filteredFamilies.map(f => {\n                  const lastTax = f.taxHistory?.slice(-1)[0];\n                  return (\n                    <tr key={f._id} className=\"hover:bg-gray-50\">\n                      <td className=\"text-center\"><input type=\"checkbox\" checked={selectedFamilies.includes(f._id)} onChange={() => toggleFamilySelection(f._id)}/></td>\n                      <td>{f.familyId}</td>\n                      <td>{f.leaderName}</td>\n                      <td className=\"text-center\">{f.approved ? \"Yes\" : \"No\"}</td>\n                      <td>{lastTax ? `${lastTax.month}: ₹${lastTax.amount} (${lastTax.paid ? 'Paid' : 'Pending'})` : '-'}</td>\n                      <td className=\"text-center space-x-1\">\n                        <button onClick={() => approveFamily(f._id, true)} className=\"btn-green btn-xs\" disabled={loading}>Approve</button>\n                        <button onClick={() => approveFamily(f._id, false)} className=\"btn-red btn-xs\" disabled={loading}>Reject</button>\n                      </td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded shadow p-6 sticky top-4\">\n          <h2 className=\"text-2xl font-semibold mb-4\">Create Family</h2>\n          <input placeholder=\"Family ID\" className=\"input\" value={newFamily.familyId} onChange={e => setNewFamily({...newFamily, familyId: e.target.value})} />\n          <input placeholder=\"Leader Name\" className=\"input\" value={newFamily.leaderName} onChange={e => setNewFamily({...newFamily, leaderName: e.target.value})} />\n          <input placeholder=\"Email\" className=\"input\" value={newFamily.email} onChange={e => setNewFamily({...newFamily, email: e.target.value})} />\n          <input placeholder=\"Password\" type=\"password\" className=\"input\" value={newFamily.password} onChange={e => setNewFamily({...newFamily, password: e.target.value})} />\n          <input placeholder=\"Members (comma-separated)\" className=\"input\" value={newFamily.members} onChange={e => setNewFamily({...newFamily, members: e.target.value})} />\n          <input placeholder=\"Phone\" className=\"input\" value={newFamily.phone} onChange={e => setNewFamily({...newFamily, phone: e.target.value})} />\n          <input placeholder=\"Address\" className=\"input\" value={newFamily.address} onChange={e => setNewFamily({...newFamily, address: e.target.value})} />\n          <button className=\"btn-blue w-full mt-4\" onClick={createFamily} disabled={loading}>Create</button>\n        </div>\n      </section>\n\n      {/* Tax Section */}\n      <section className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12\">\n        <article className=\"bg-white rounded shadow p-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">Add Tax (Bulk)</h3>\n          <div className=\"space-y-3\">\n            <label><input type=\"checkbox\" onChange={toggleSelectAll} checked={selectAll}/> Select All Families</label>\n            <input type=\"month\" className=\"input\" value={taxMonth} onChange={e => setTaxMonth(e.target.value)} />\n            <input type=\"number\" placeholder=\"Amount\" className=\"input\" value={taxAmount} onChange={e => setTaxAmount(e.target.value)} />\n            <label><input type=\"checkbox\" checked={taxPaid} onChange={e => setTaxPaid(e.target.checked)} /> Mark as Paid</label>\n            <button className=\"btn-green w-full\" onClick={addTaxBulk} disabled={loading}>Add</button>\n            <p className=\"text-center font-semibold mt-3\">Total Paid: ₹{totalPaid}</p>\n          </div>\n        </article>\n\n        <article className=\"bg-white rounded shadow p-6 max-h-[400px] overflow-auto\">\n          <h3 className=\"text-lg font-semibold mb-4\">Paid Families ({paidFamilies.length})</h3>\n          {!paidFamilies.length && <p>No paid families.</p>}\n          {paidFamilies.map(f => (\n            <div key={f._id} className=\"bg-green-50 rounded p-2 mb-2 flex justify-between\">\n              <span>{f.familyId} — {f.leaderName}</span>\n              <span>₹{f.taxHistory.find(t => t.month === taxMonth && t.paid)?.amount || 0}</span>\n            </div>\n          ))}\n        </article>\n\n        <article className=\"bg-white rounded shadow p-6 max-h-[400px] overflow-auto\">\n          <h3 className=\"text-lg font-semibold mb-4\">Pending Families ({unpaidFamilies.length})</h3>\n          {!unpaidFamilies.length && <p>No pending families.</p>}\n          {unpaidFamilies.map(f => {\n            const amount = f.taxHistory.find(t => t.month === taxMonth)?.amount || taxAmount || \"-\";\n            return (\n              <div key={f._id} className=\"bg-red-50 rounded p-2 mb-2 flex justify-between\">\n                <span>{f.familyId} — {f.leaderName} • ₹{amount}</span>\n                <button className=\"btn-blue\" onClick={() => markFamilyTax(f._id, taxMonth)} disabled={loading}>Mark Paid</button>\n              </div>\n            );\n          })}\n        </article>\n      </section>\n\n      {/* Events and Workers */}\n      <section className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12\">\n        <article className=\"bg-white rounded shadow p-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">Events</h3>\n          <ul className=\"divide-y divide-gray-200 max-h-64 overflow-auto\">\n            {!events.length && <li>No events found.</li>}\n            {events.map(ev => (\n              <li key={ev._id} className=\"flex justify-between py-2 items-center\">\n                <div>{ev.title} ({new Date(ev.date).toLocaleDateString()})</div>\n                <button className=\"btn-red btn-xs\" onClick={() => deleteEvent(ev._id)}>Delete</button>\n              </li>\n            ))}\n          </ul>\n          <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-2 mt-4\">\n            <input className=\"input\" placeholder=\"Title\" value={newEvent.title} onChange={e => setNewEvent({...newEvent, title: e.target.value})}/>\n            <input className=\"input\" type=\"date\" value={newEvent.date} onChange={e => setNewEvent({...newEvent, date: e.target.value})}/>\n            <button className=\"btn-green\" onClick={addEvent}>Add</button>\n          </div>\n        </article>\n\n        <article className=\"bg-white rounded shadow p-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">Workers</h3>\n          <ul className=\"divide-y divide-gray-200 max-h-64 overflow-auto\">\n            {!workers.length && <li>No workers found.</li>}\n            {workers.map(w => (\n              <li key={w._id} className=\"flex justify-between py-2 items-center\">\n                <div>{w.type} — {w.description}</div>\n                <button className=\"btn-red btn-xs\" onClick={() => deleteWorker(w._id)}>Delete</button>\n              </li>\n            ))}\n          </ul>\n          <div className=\"grid grid-cols-1 gap-2 mt-4\">\n            <input className=\"input\" placeholder=\"Type\" value={newWorker.type} onChange={e => setNewWorker({...newWorker, type: e.target.value})}/>\n            <input className=\"input\" placeholder=\"Description\" value={newWorker.description} onChange={e => setNewWorker({...newWorker, description: e.target.value})}/>\n            <button className=\"btn-green\" onClick={addWorker}>Add</button>\n          </div>\n        </article>\n      </section>\n\n      {/* History and Gallery */}\n      <section className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <article className=\"bg-white rounded shadow p-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">History</h3>\n          <ul className=\"divide-y divide-gray-200 max-h-64 overflow-auto\">\n            {!historyItems.length && <li>No history records.</li>}\n            {historyItems.map(item => (\n              <li key={item._id} className=\"flex justify-between py-2 items-center\">\n                <div>{item.content?.en || item.content?.ta}</div>\n                <button className=\"btn-red btn-xs\" onClick={() => deleteHistory(item._id)}>Delete</button>\n              </li>\n            ))}\n          </ul>\n          <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-2 mt-4\">\n            <input className=\"input\" placeholder=\"Content English\" value={newHistory.contentEN} onChange={e => setNewHistory({...newHistory, contentEN: e.target.value})}/>\n            <input className=\"input\" placeholder=\"Content Other\" value={newHistory.contentTA} onChange={e => setNewHistory({...newHistory, contentTA: e.target.value})}/>\n            <button className=\"btn-green\" onClick={addHistory}>Add</button>\n          </div>\n        </article>\n\n        <article className=\"bg-white rounded shadow p-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">Gallery</h3>\n          <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\n            {!gallery.length && <p>No gallery items.</p>}\n            {gallery.map(item => (\n              <div key={item._id} className=\"border rounded p-4 flex flex-col\">\n                <a href={`${API_BASE}${item.url}`} target=\"_blank\" rel=\"noreferrer\" className=\"mb-2 truncate text-blue-600 hover:underline\">{item.title || \"Untitled\"}</a>\n                <p className=\"text-sm text-gray-500 mb-4 truncate\">{item.description || \"\"}</p>\n                <button className=\"btn-red btn-xs mt-auto\" onClick={() => deleteGallery(item._id)}>Delete</button>\n              </div>\n            ))}\n          </div>\n          <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-3 mt-4\">\n            <input type=\"file\" onChange={e => setGalleryFile(e.target.files[0])} />\n            <input className=\"input\" placeholder=\"Title\" value={galleryMeta.title} onChange={e => setGalleryMeta({...galleryMeta, title: e.target.value})}/>\n            <input className=\"input\" placeholder=\"Description\" value={galleryMeta.description} onChange={e => setGalleryMeta({...galleryMeta, description: e.target.value})}/>\n            <button className=\"btn-green\" onClick={uploadGallery} disabled={!galleryFile}>Upload</button>\n          </div>\n        </article>\n      </section>\n    </div>\n  );\n};\n\nexport default AdminDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}