{"ast":null,"code":"import _objectSpread from\"C:/Users/murug/OneDrive/Desktop/uk-portal/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useMemo,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminDashboard=()=>{const API_BASE=process.env.REACT_APP_API_URL||\"http://localhost:5000\";const token=localStorage.getItem(\"adminToken\");const headers={Authorization:\"Bearer \".concat(token)};// Core states for data\nconst[families,setFamilies]=useState([]);const[events,setEvents]=useState([]);const[workers,setWorkers]=useState([]);const[historyItems,setHistoryItems]=useState([]);const[gallery,setGallery]=useState([]);// UI states\nconst[loading,setLoading]=useState(false);const[errorMsg,setErrorMsg]=useState(\"\");// Forms\nconst[newFamily,setNewFamily]=useState({familyId:\"\",leaderName:\"\",email:\"\",password:\"\",members:\"\",phone:\"\",address:\"\"});const[newEvent,setNewEvent]=useState({title:\"\",date:\"\"});const[newWorker,setNewWorker]=useState({type:\"\",description:\"\"});const[newHistory,setNewHistory]=useState({contentEN:\"\",contentTA:\"\"});const[galleryFile,setGalleryFile]=useState(null);const[galleryMeta,setGalleryMeta]=useState({title:\"\",description:\"\"});// Tax states\nconst[selectedFamilies,setSelectedFamilies]=useState([]);const[selectAll,setSelectAll]=useState(false);const[taxMonth,setTaxMonth]=useState(()=>{const d=new Date();return\"\".concat(d.getFullYear(),\"-\").concat(String(d.getMonth()+1).padStart(2,\"0\"));});const[taxAmount,setTaxAmount]=useState(\"\");const[taxPaid,setTaxPaid]=useState(false);// Search\nconst[searchFamily,setSearchFamily]=useState(\"\");// Data loading\nconst loadAll=async()=>{if(!token){setErrorMsg(\"Missing admin token. Please login.\");return;}try{setLoading(true);const[fRes,eRes,wRes,hRes,gRes]=await Promise.all([axios.get(\"\".concat(API_BASE,\"/api/admin/families\"),{headers}),axios.get(\"\".concat(API_BASE,\"/api/admin/events\"),{headers}),axios.get(\"\".concat(API_BASE,\"/api/admin/workers\"),{headers}),axios.get(\"\".concat(API_BASE,\"/api/admin/history\"),{headers}),axios.get(\"\".concat(API_BASE,\"/api/admin/gallery\"),{headers})]);setFamilies(fRes.data||[]);setEvents(eRes.data||[]);setWorkers(wRes.data||[]);setHistoryItems(hRes.data||[]);setGallery(gRes.data||[]);setErrorMsg(\"\");}catch(_unused){setErrorMsg(\"Failed to load data. Please try again later.\");}finally{setLoading(false);}};useEffect(()=>{loadAll();},[]);// Handlers for CRUD and actions omitted for brevity\n// ... (reuse previous implementations in the conversation)\n// Filtered families for search\nconst filteredFamilies=useMemo(()=>{if(!searchFamily.trim())return families;const q=searchFamily.toLowerCase();return families.filter(f=>{var _f$email;return(f.familyId+' '+f.leaderName+' '+((_f$email=f.email)!==null&&_f$email!==void 0?_f$email:'')).toLowerCase().includes(q);});},[families,searchFamily]);// Paid and unpaid families by selected month\nconst paidFamilies=useMemo(()=>families.filter(f=>{var _f$taxHistory;return(_f$taxHistory=f.taxHistory)===null||_f$taxHistory===void 0?void 0:_f$taxHistory.some(t=>t.month===taxMonth&&t.paid);}),[families,taxMonth]);const unpaidFamilies=useMemo(()=>families.filter(f=>{var _f$taxHistory2;const t=(_f$taxHistory2=f.taxHistory)===null||_f$taxHistory2===void 0?void 0:_f$taxHistory2.find(t=>t.month===taxMonth);return!t||!t.paid;}),[families,taxMonth]);// Total paid amount\nconst totalPaid=useMemo(()=>{return paidFamilies.reduce((acc,f)=>{var _f$taxHistory3;const t=(_f$taxHistory3=f.taxHistory)===null||_f$taxHistory3===void 0?void 0:_f$taxHistory3.find(t=>t.month===taxMonth&&t.paid);return acc+(Number(t===null||t===void 0?void 0:t.amount)||0);},0);},[paidFamilies,taxMonth]);return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 max-w-[1200px] mx-auto space-y-10\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-center mb-10\",children:\"Admin Dashboard\"}),errorMsg&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-red-600\",children:errorMsg}),loading&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-blue-600\",children:\"Loading...\"}),/*#__PURE__*/_jsxs(\"section\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2 flex flex-col bg-white p-6 rounded shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"search\",className:\"shadow-sm border rounded px-3 py-2 flex-grow sm:max-w-md\",placeholder:\"Search families...\",value:searchFamily,onChange:e=>setSearchFamily(e.target.value)}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-x-2 flex flex-wrap justify-center\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",onClick:loadAll,children:\"Refresh\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-yellow\",onClick:()=>{if(window.confirm(\"Send notifications to all families?\"))alert(\"Notifications queued\");},children:\"Send Notifications\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-auto max-h-[400px] rounded border\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full border-collapse\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-100 sticky top-0\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"p-3 border text-center w-12\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectAll,onChange:()=>{selectAll?setSelectedFamilies([]):setSelectedFamilies(families.map(f=>f._id));setSelectAll(!selectAll);}})}),/*#__PURE__*/_jsx(\"th\",{className:\"p-3 border\",children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-3 border\",children:\"Leader\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-3 border text-center\",children:\"Approved\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-3 border\",children:\"Latest Tax\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-3 border text-center\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredFamilies.length?filteredFamilies.map(f=>{var _f$taxHistory4;const latestTax=(_f$taxHistory4=f.taxHistory)===null||_f$taxHistory4===void 0?void 0:_f$taxHistory4.slice(-1)[0];return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"border p-3 text-center\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedFamilies.includes(f._id),onChange:()=>{selectedFamilies.includes(f._id)?setSelectedFamilies(selectedFamilies.filter(id=>id!==f._id)):setSelectedFamilies([...selectedFamilies,f._id]);}})}),/*#__PURE__*/_jsx(\"td\",{className:\"border p-3\",children:f.familyId}),/*#__PURE__*/_jsx(\"td\",{className:\"border p-3\",children:f.leaderName}),/*#__PURE__*/_jsx(\"td\",{className:\"border p-3 text-center\",children:f.approved?\"Yes\":\"No\"}),/*#__PURE__*/_jsx(\"td\",{className:\"border p-3\",children:latestTax?\"\".concat(latestTax.month,\" \\u20B9\").concat(latestTax.amount,\" (\").concat(latestTax.paid?\"Paid\":\"Pending\",\")\"):\"-\"}),/*#__PURE__*/_jsxs(\"td\",{className:\"border p-3 text-center\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-green btn-xs mr-1\",onClick:()=>approveFamily(f._id,true),children:\"Approve\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-red btn-xs\",onClick:()=>approveFamily(f._id,false),children:\"Reject\"})]})]},f._id);}):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:6,className:\"text-center py-4 text-gray-500\",children:\"No families found\"})})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded shadow sticky top-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Create Family\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",placeholder:\"Family ID\",value:newFamily.familyId,onChange:e=>setNewFamily(_objectSpread(_objectSpread({},newFamily),{},{familyId:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",placeholder:\"Leader Name\",value:newFamily.leaderName,onChange:e=>setNewFamily(_objectSpread(_objectSpread({},newFamily),{},{leaderName:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"email\",placeholder:\"Email\",value:newFamily.email,onChange:e=>setNewFamily(_objectSpread(_objectSpread({},newFamily),{},{email:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"password\",placeholder:\"Password\",value:newFamily.password,onChange:e=>setNewFamily(_objectSpread(_objectSpread({},newFamily),{},{password:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",placeholder:\"Members (comma-separated)\",value:newFamily.members,onChange:e=>setNewFamily(_objectSpread(_objectSpread({},newFamily),{},{members:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",placeholder:\"Phone\",value:newFamily.phone,onChange:e=>setNewFamily(_objectSpread(_objectSpread({},newFamily),{},{phone:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",placeholder:\"Address\",value:newFamily.address,onChange:e=>setNewFamily(_objectSpread(_objectSpread({},newFamily),{},{address:e.target.value}))}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-blue w-full mt-4\",onClick:createFamily,disabled:loading,children:\"Create\"})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"grid md:grid-cols-3 gap-6 mt-12\",children:[/*#__PURE__*/_jsxs(\"article\",{className:\"bg-white p-6 rounded shadow\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Add Tax (Bulk)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectAll,onChange:()=>{selectAll?setSelectedFamilies([]):setSelectedFamilies(families.map(f=>f._id));setSelectAll(!selectAll);}}),\"Select All Families\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"month\",className:\"input\",value:taxMonth,onChange:e=>setTaxMonth(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"input\",placeholder:\"Amount\",value:taxAmount,onChange:e=>setTaxAmount(e.target.value)}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:taxPaid,onChange:e=>setTaxPaid(e.target.checked)}),\"Mark as Paid\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-green w-full\",onClick:addTaxBulk,disabled:loading,children:\"Add Tax\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-center text-lg font-semibold pt-4\",children:[\"Total Paid: \\u20B9\",totalPaid]})]})]}),/*#__PURE__*/_jsxs(\"article\",{className:\"bg-white p-6 rounded shadow overflow-auto max-h-80\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4\",children:[\"Paid Families (\",paidFamilies.length,\")\"]}),paidFamilies.length===0&&/*#__PURE__*/_jsx(\"p\",{children:\"No paid families\"}),paidFamilies.map(f=>{var _f$taxHistory5;const t=(_f$taxHistory5=f.taxHistory)===null||_f$taxHistory5===void 0?void 0:_f$taxHistory5.find(tx=>tx.month===taxMonth&&tx.paid);return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 p-2 rounded mb-2 flex justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[f.familyId,\" \\u2014 \",f.leaderName]}),/*#__PURE__*/_jsxs(\"strong\",{children:[\"\\u20B9\",t===null||t===void 0?void 0:t.amount]})]},f._id);})]}),/*#__PURE__*/_jsxs(\"article\",{className:\"bg-white p-6 rounded shadow overflow-auto max-h-80\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4\",children:[\"Pending Families (\",unpaidFamilies.length,\")\"]}),unpaidFamilies.length===0&&/*#__PURE__*/_jsx(\"p\",{children:\"No pending families\"}),unpaidFamilies.map(f=>{var _f$taxHistory6;const t=(_f$taxHistory6=f.taxHistory)===null||_f$taxHistory6===void 0?void 0:_f$taxHistory6.find(tx=>tx.month===taxMonth);const amount=t?t.amount:taxAmount||\"-\";return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-50 p-2 rounded mb-2 flex justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[f.familyId,\" \\u2014 \",f.leaderName,\" \\u2022 \\u20B9\",amount]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-blue\",onClick:()=>markFamilyTax(f._id,taxMonth),disabled:loading,children:\"Mark Paid\"})]},f._id);})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"grid md:grid-cols-2 gap-6 mt-12\",children:[/*#__PURE__*/_jsxs(\"article\",{className:\"bg-white p-6 rounded shadow\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Events\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"divide-y divide-gray-200 max-h-80 overflow-auto\",children:[events.map(ev=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex justify-between py-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[ev.title,\" \\u2014 \",new Date(ev.date).toLocaleDateString()]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-red btn-xs\",onClick:()=>deleteEvent(ev._id),children:\"Delete\"})]},ev._id)),events.length===0&&/*#__PURE__*/_jsx(\"p\",{children:\"No events\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 grid grid-cols-1 sm:grid-cols-3 gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input\",placeholder:\"Title\",value:newEvent.title,onChange:e=>setNewEvent(_objectSpread(_objectSpread({},newEvent),{},{title:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"date\",value:newEvent.date,onChange:e=>setNewEvent(_objectSpread(_objectSpread({},newEvent),{},{date:e.target.value}))}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-green\",onClick:addEvent,children:\"Add\"})]})]}),/*#__PURE__*/_jsxs(\"article\",{className:\"bg-white p-6 rounded shadow\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Workers\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"divide-y divide-gray-200 max-h-80 overflow-auto\",children:[workers.map(worker=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex justify-between py-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[worker.type,\" \\u2014 \",worker.description]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-red btn-xs\",onClick:()=>deleteWorker(worker._id),children:\"Delete\"})]},worker._id)),workers.length===0&&/*#__PURE__*/_jsx(\"p\",{children:\"No workers\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 grid gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input\",placeholder:\"Type\",value:newWorker.type,onChange:e=>setNewWorker(_objectSpread(_objectSpread({},newWorker),{},{type:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",placeholder:\"Description\",value:newWorker.description,onChange:e=>setNewWorker(_objectSpread(_objectSpread({},newWorker),{},{description:e.target.value}))}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-green\",onClick:addWorker,children:\"Add\"})]})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"grid md:grid-cols-2 gap-6 my-12\",children:[/*#__PURE__*/_jsxs(\"article\",{className:\"bg-white p-6 rounded shadow max-h-96 overflow-auto\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"History\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"divide-y divide-gray-200\",children:[historyItems.map(item=>{var _item$content,_item$content2;return/*#__PURE__*/_jsxs(\"li\",{className:\"flex justify-between py-2\",children:[/*#__PURE__*/_jsx(\"div\",{children:((_item$content=item.content)===null||_item$content===void 0?void 0:_item$content.en)||((_item$content2=item.content)===null||_item$content2===void 0?void 0:_item$content2.ta)}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-red btn-xs\",onClick:()=>deleteHistory(item._id),children:\"Delete\"})]},item._id);}),historyItems.length===0&&/*#__PURE__*/_jsx(\"p\",{children:\"No history items\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 grid gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input\",placeholder:\"Content English\",value:newHistory.contentEN,onChange:e=>setNewHistory(_objectSpread(_objectSpread({},newHistory),{},{contentEN:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",placeholder:\"Content Other Language\",value:newHistory.contentTA,onChange:e=>setNewHistory(_objectSpread(_objectSpread({},newHistory),{},{contentTA:e.target.value}))}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-green\",onClick:addHistory,children:\"Add\"})]})]}),/*#__PURE__*/_jsxs(\"article\",{className:\"bg-white p-6 rounded shadow\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Gallery\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-3 gap-4\",children:[gallery.map(item=>{var _item$title;return/*#__PURE__*/_jsxs(\"div\",{className:\"border p-2 rounded flex flex-col\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"\".concat(API_BASE).concat(item.url),target:\"_blank\",rel:\"noreferrer\",className:\"truncate hover:underline text-blue-600\",children:(_item$title=item.title)!==null&&_item$title!==void 0?_item$title:\"Untitled\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mb-2 truncate\",children:item.description}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-red btn-xs mt-auto\",onClick:()=>deleteGallery(item._id),children:\"Delete\"})]},item._id);}),gallery.length===0&&/*#__PURE__*/_jsx(\"p\",{children:\"No gallery items\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 grid gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:e=>setGalleryFile(e.target.files[0])}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",placeholder:\"Title\",value:galleryMeta.title,onChange:e=>setGalleryMeta(_objectSpread(_objectSpread({},galleryMeta),{},{title:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",placeholder:\"Description\",value:galleryMeta.description,onChange:e=>setGalleryMeta(_objectSpread(_objectSpread({},galleryMeta),{},{description:e.target.value}))}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-green\",onClick:()=>uploadGallery(),disabled:!galleryFile,children:\"Upload\"})]})]})]})]});};export default AdminDashboard;","map":{"version":3,"names":["React","useEffect","useMemo","useState","axios","jsx","_jsx","jsxs","_jsxs","AdminDashboard","API_BASE","process","env","REACT_APP_API_URL","token","localStorage","getItem","headers","Authorization","concat","families","setFamilies","events","setEvents","workers","setWorkers","historyItems","setHistoryItems","gallery","setGallery","loading","setLoading","errorMsg","setErrorMsg","newFamily","setNewFamily","familyId","leaderName","email","password","members","phone","address","newEvent","setNewEvent","title","date","newWorker","setNewWorker","type","description","newHistory","setNewHistory","contentEN","contentTA","galleryFile","setGalleryFile","galleryMeta","setGalleryMeta","selectedFamilies","setSelectedFamilies","selectAll","setSelectAll","taxMonth","setTaxMonth","d","Date","getFullYear","String","getMonth","padStart","taxAmount","setTaxAmount","taxPaid","setTaxPaid","searchFamily","setSearchFamily","loadAll","fRes","eRes","wRes","hRes","gRes","Promise","all","get","data","_unused","filteredFamilies","trim","q","toLowerCase","filter","f","_f$email","includes","paidFamilies","_f$taxHistory","taxHistory","some","t","month","paid","unpaidFamilies","_f$taxHistory2","find","totalPaid","reduce","acc","_f$taxHistory3","Number","amount","className","children","placeholder","value","onChange","e","target","onClick","window","confirm","alert","checked","map","_id","length","_f$taxHistory4","latestTax","slice","id","approved","approveFamily","colSpan","_objectSpread","createFamily","disabled","addTaxBulk","_f$taxHistory5","tx","_f$taxHistory6","markFamilyTax","ev","toLocaleDateString","deleteEvent","addEvent","worker","deleteWorker","addWorker","item","_item$content","_item$content2","content","en","ta","deleteHistory","addHistory","_item$title","href","url","rel","deleteGallery","files","uploadGallery"],"sources":["C:/Users/murug/OneDrive/Desktop/uk-portal/client/src/pages/AdminDashboard.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from \"react\";\nimport axios from \"axios\";\n\nconst AdminDashboard = () => {\n  const API_BASE = process.env.REACT_APP_API_URL || \"http://localhost:5000\";\n  const token = localStorage.getItem(\"adminToken\");\n  const headers = { Authorization: `Bearer ${token}` };\n\n  // Core states for data\n  const [families, setFamilies] = useState([]);\n  const [events, setEvents] = useState([]);\n  const [workers, setWorkers] = useState([]);\n  const [historyItems, setHistoryItems] = useState([]);\n  const [gallery, setGallery] = useState([]);\n\n  // UI states\n  const [loading, setLoading] = useState(false);\n  const [errorMsg, setErrorMsg] = useState(\"\");\n\n  // Forms\n  const [newFamily, setNewFamily] = useState({\n    familyId: \"\",\n    leaderName: \"\",\n    email: \"\",\n    password: \"\",\n    members: \"\",\n    phone: \"\",\n    address: \"\",\n  });\n  const [newEvent, setNewEvent] = useState({ title: \"\", date: \"\" });\n  const [newWorker, setNewWorker] = useState({ type: \"\", description: \"\" });\n  const [newHistory, setNewHistory] = useState({ contentEN: \"\", contentTA: \"\" });\n  const [galleryFile, setGalleryFile] = useState(null);\n  const [galleryMeta, setGalleryMeta] = useState({ title: \"\", description: \"\" });\n\n  // Tax states\n  const [selectedFamilies, setSelectedFamilies] = useState([]);\n  const [selectAll, setSelectAll] = useState(false);\n  const [taxMonth, setTaxMonth] = useState(() => {\n    const d = new Date();\n    return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, \"0\")}`;\n  });\n  const [taxAmount, setTaxAmount] = useState(\"\");\n  const [taxPaid, setTaxPaid] = useState(false);\n\n  // Search\n  const [searchFamily, setSearchFamily] = useState(\"\");\n\n  // Data loading\n  const loadAll = async () => {\n    if (!token) {\n      setErrorMsg(\"Missing admin token. Please login.\");\n      return;\n    }\n    try {\n      setLoading(true);\n      const [fRes, eRes, wRes, hRes, gRes] = await Promise.all([\n        axios.get(`${API_BASE}/api/admin/families`, { headers }),\n        axios.get(`${API_BASE}/api/admin/events`, { headers }),\n        axios.get(`${API_BASE}/api/admin/workers`, { headers }),\n        axios.get(`${API_BASE}/api/admin/history`, { headers }),\n        axios.get(`${API_BASE}/api/admin/gallery`, { headers }),\n      ]);\n      setFamilies(fRes.data || []);\n      setEvents(eRes.data || []);\n      setWorkers(wRes.data || []);\n      setHistoryItems(hRes.data || []);\n      setGallery(gRes.data || []);\n      setErrorMsg(\"\");\n    } catch {\n      setErrorMsg(\"Failed to load data. Please try again later.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    loadAll();\n  }, []);\n\n  // Handlers for CRUD and actions omitted for brevity\n  // ... (reuse previous implementations in the conversation)\n\n  // Filtered families for search\n  const filteredFamilies = useMemo(() => {\n    if (!searchFamily.trim()) return families;\n    const q = searchFamily.toLowerCase();\n    return families.filter(f =>\n      (f.familyId + ' ' + f.leaderName + ' ' + (f.email ?? '')).toLowerCase().includes(q));\n  }, [families, searchFamily]);\n\n  // Paid and unpaid families by selected month\n  const paidFamilies = useMemo(() => families.filter(f => f.taxHistory?.some(t => t.month === taxMonth && t.paid)), [families, taxMonth]);\n  const unpaidFamilies = useMemo(() => families.filter(f => {\n    const t = f.taxHistory?.find(t => t.month === taxMonth);\n    return !t || !t.paid;\n  }), [families, taxMonth]);\n\n  // Total paid amount\n  const totalPaid = useMemo(() => {\n    return paidFamilies.reduce((acc, f) => {\n      const t = f.taxHistory?.find(t => t.month === taxMonth && t.paid);\n      return acc + (Number(t?.amount) || 0);\n    }, 0);\n  }, [paidFamilies, taxMonth]);\n\n  return (\n    <div className=\"p-4 max-w-[1200px] mx-auto space-y-10\">\n\n      <h1 className=\"text-4xl font-bold text-center mb-10\">Admin Dashboard</h1>\n\n      {errorMsg && <p className=\"text-center text-red-600\">{errorMsg}</p>}\n      {loading && <p className=\"text-center text-blue-600\">Loading...</p>}\n\n      {/* Families and Create */}\n      <section className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n        <div className=\"md:col-span-2 flex flex-col bg-white p-6 rounded shadow\">\n\n          <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4\">\n            <input\n              type=\"search\"\n              className=\"shadow-sm border rounded px-3 py-2 flex-grow sm:max-w-md\"\n              placeholder=\"Search families...\"\n              value={searchFamily}\n              onChange={e => setSearchFamily(e.target.value)}\n            />\n            <div className=\"space-x-2 flex flex-wrap justify-center\">\n              <button className=\"btn-secondary\" onClick={loadAll}>Refresh</button>\n              <button className=\"btn-yellow\" onClick={() => { if(window.confirm(\"Send notifications to all families?\")) alert(\"Notifications queued\")}}>Send Notifications</button>\n            </div>\n          </div>\n\n          <div className=\"overflow-auto max-h-[400px] rounded border\">\n            <table className=\"min-w-full border-collapse\">\n              <thead className=\"bg-gray-100 sticky top-0\">\n                <tr>\n                  <th className=\"p-3 border text-center w-12\">\n                    <input\n                      type=\"checkbox\"\n                      checked={selectAll}\n                      onChange={() => {\n                        selectAll ? setSelectedFamilies([]) : setSelectedFamilies(families.map(f => f._id));\n                        setSelectAll(!selectAll);\n                      }}\n                    />\n                  </th>\n                  <th className=\"p-3 border\">ID</th>\n                  <th className=\"p-3 border\">Leader</th>\n                  <th className=\"p-3 border text-center\">Approved</th>\n                  <th className=\"p-3 border\">Latest Tax</th>\n                  <th className=\"p-3 border text-center\">Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {filteredFamilies.length ? filteredFamilies.map(f => {\n                  const latestTax = f.taxHistory?.slice(-1)[0];\n                  return (\n                    <tr key={f._id} className=\"hover:bg-gray-50\">\n                      <td className=\"border p-3 text-center\">\n                        <input\n                          type=\"checkbox\"\n                          checked={selectedFamilies.includes(f._id)}\n                          onChange={() => {\n                            selectedFamilies.includes(f._id)\n                              ? setSelectedFamilies(selectedFamilies.filter(id => id !== f._id))\n                              : setSelectedFamilies([...selectedFamilies, f._id]);\n                          }}\n                        />\n                      </td>\n                      <td className=\"border p-3\">{f.familyId}</td>\n                      <td className=\"border p-3\">{f.leaderName}</td>\n                      <td className=\"border p-3 text-center\">{f.approved ? \"Yes\" : \"No\"}</td>\n                      <td className=\"border p-3\">{latestTax ? `${latestTax.month} ₹${latestTax.amount} (${latestTax.paid ? \"Paid\" : \"Pending\"})` : \"-\"}</td>\n                      <td className=\"border p-3 text-center\">\n                        <button className=\"btn-green btn-xs mr-1\" onClick={() => approveFamily(f._id, true)}>Approve</button>\n                        <button className=\"btn-red btn-xs\" onClick={() => approveFamily(f._id, false)}>Reject</button>\n                      </td>\n                    </tr>\n                  );\n                }) : (\n                  <tr><td colSpan={6} className=\"text-center py-4 text-gray-500\">No families found</td></tr>\n                )}\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n        {/* Create Family */}\n        <div className=\"bg-white p-6 rounded shadow sticky top-6\">\n          <h2 className=\"text-xl font-semibold mb-4\">Create Family</h2>\n          <input className=\"input\" placeholder=\"Family ID\" value={newFamily.familyId} onChange={e => setNewFamily({...newFamily, familyId: e.target.value})} />\n          <input className=\"input\" placeholder=\"Leader Name\" value={newFamily.leaderName} onChange={e => setNewFamily({...newFamily, leaderName: e.target.value})} />\n          <input className=\"input\" type=\"email\" placeholder=\"Email\" value={newFamily.email} onChange={e => setNewFamily({...newFamily, email: e.target.value})} />\n          <input className=\"input\" type=\"password\" placeholder=\"Password\" value={newFamily.password} onChange={e => setNewFamily({...newFamily, password: e.target.value})} />\n          <input className=\"input\" placeholder=\"Members (comma-separated)\" value={newFamily.members} onChange={e => setNewFamily({...newFamily, members: e.target.value})} />\n          <input className=\"input\" placeholder=\"Phone\" value={newFamily.phone} onChange={e => setNewFamily({...newFamily, phone: e.target.value})} />\n          <input className=\"input\" placeholder=\"Address\" value={newFamily.address} onChange={e => setNewFamily({...newFamily, address: e.target.value})} />\n          <button className=\"btn-blue w-full mt-4\" onClick={createFamily} disabled={loading}>Create</button>\n        </div>\n      </section>\n\n      {/* Tax Section */}\n      <section className=\"grid md:grid-cols-3 gap-6 mt-12\">\n        <article className=\"bg-white p-6 rounded shadow\">\n          <h3 className=\"text-lg font-semibold mb-4\">Add Tax (Bulk)</h3>\n          <div className=\"space-y-3\">\n            <label className=\"flex items-center gap-2\">\n              <input type=\"checkbox\" checked={selectAll} onChange={() => {\n                selectAll ? setSelectedFamilies([]) : setSelectedFamilies(families.map(f => f._id));\n                setSelectAll(!selectAll);\n              }} />\n              Select All Families\n            </label>\n            <input type=\"month\" className=\"input\" value={taxMonth} onChange={e => setTaxMonth(e.target.value)} />\n            <input type=\"number\" className=\"input\" placeholder=\"Amount\" value={taxAmount} onChange={e => setTaxAmount(e.target.value)} />\n            <label className=\"flex items-center gap-2\">\n              <input type=\"checkbox\" checked={taxPaid} onChange={e => setTaxPaid(e.target.checked)} />\n              Mark as Paid\n            </label>\n            <button className=\"btn-green w-full\" onClick={addTaxBulk} disabled={loading}>Add Tax</button>\n            <p className=\"text-center text-lg font-semibold pt-4\">Total Paid: ₹{totalPaid}</p>\n          </div>\n        </article>\n\n        <article className=\"bg-white p-6 rounded shadow overflow-auto max-h-80\">\n          <h3 className=\"text-lg font-semibold mb-4\">Paid Families ({paidFamilies.length})</h3>\n          {paidFamilies.length === 0 && <p>No paid families</p>}\n          {paidFamilies.map(f => {\n            const t = f.taxHistory?.find(tx => tx.month === taxMonth && tx.paid);\n            return (\n              <div key={f._id} className=\"bg-green-50 p-2 rounded mb-2 flex justify-between\">\n                <span>{f.familyId} — {f.leaderName}</span>\n                <strong>₹{t?.amount}</strong>\n              </div>\n            );\n          })}\n        </article>\n\n        <article className=\"bg-white p-6 rounded shadow overflow-auto max-h-80\">\n          <h3 className=\"text-lg font-semibold mb-4\">Pending Families ({unpaidFamilies.length})</h3>\n          {unpaidFamilies.length === 0 && <p>No pending families</p>}\n          {unpaidFamilies.map(f => {\n            const t = f.taxHistory?.find(tx => tx.month === taxMonth);\n            const amount = t ? t.amount : taxAmount || \"-\";\n            return (\n              <div key={f._id} className=\"bg-red-50 p-2 rounded mb-2 flex justify-between\">\n                <span>{f.familyId} — {f.leaderName} • ₹{amount}</span>\n                <button className=\"btn-blue\" onClick={() => markFamilyTax(f._id, taxMonth)} disabled={loading}>Mark Paid</button>\n              </div>\n            );\n          })}\n        </article>\n      </section>\n\n      {/* Event and Worker Section */}\n      <section className=\"grid md:grid-cols-2 gap-6 mt-12\">\n        <article className=\"bg-white p-6 rounded shadow\">\n          <h3 className=\"text-lg font-semibold mb-4\">Events</h3>\n          <ul className=\"divide-y divide-gray-200 max-h-80 overflow-auto\">\n            {events.map(ev => (\n              <li key={ev._id} className=\"flex justify-between py-2\">\n                <div>{ev.title} — {new Date(ev.date).toLocaleDateString()}</div>\n                <button className=\"btn-red btn-xs\" onClick={() => deleteEvent(ev._id)}>Delete</button>\n              </li>\n            ))}\n            {events.length === 0 && <p>No events</p>}\n          </ul>\n          <div className=\"mt-4 grid grid-cols-1 sm:grid-cols-3 gap-2\">\n            <input className=\"input\" placeholder=\"Title\" value={newEvent.title} onChange={e => setNewEvent({ ...newEvent, title: e.target.value })} />\n            <input className=\"input\" type=\"date\" value={newEvent.date} onChange={e => setNewEvent({ ...newEvent, date: e.target.value })} />\n            <button className=\"btn-green\" onClick={addEvent}>Add</button>\n          </div>\n        </article>\n\n        <article className=\"bg-white p-6 rounded shadow\">\n          <h3 className=\"text-lg font-semibold mb-4\">Workers</h3>\n          <ul className=\"divide-y divide-gray-200 max-h-80 overflow-auto\">\n            {workers.map(worker => (\n              <li key={worker._id} className=\"flex justify-between py-2\">\n                <div>{worker.type} — {worker.description}</div>\n                <button className=\"btn-red btn-xs\" onClick={() => deleteWorker(worker._id)}>Delete</button>\n              </li>\n            ))}\n            {workers.length === 0 && <p>No workers</p>}\n          </ul>\n          <div className=\"mt-4 grid gap-2\">\n            <input className=\"input\" placeholder=\"Type\" value={newWorker.type} onChange={e => setNewWorker({ ...newWorker, type: e.target.value })} />\n            <input className=\"input\" placeholder=\"Description\" value={newWorker.description} onChange={e => setNewWorker({ ...newWorker, description: e.target.value })} />\n            <button className=\"btn-green\" onClick={addWorker}>Add</button>\n          </div>\n        </article>\n      </section>\n\n      {/* History and Gallery Section */}\n      <section className=\"grid md:grid-cols-2 gap-6 my-12\">\n        <article className=\"bg-white p-6 rounded shadow max-h-96 overflow-auto\">\n          <h3 className=\"text-lg font-semibold mb-4\">History</h3>\n          <ul className=\"divide-y divide-gray-200\">\n            {historyItems.map(item => (\n              <li key={item._id} className=\"flex justify-between py-2\">\n                <div>{item.content?.en || item.content?.ta}</div>\n                <button className=\"btn-red btn-xs\" onClick={() => deleteHistory(item._id)}>Delete</button>\n              </li>\n            ))}\n            {historyItems.length === 0 && <p>No history items</p>}\n          </ul>\n          <div className=\"mt-4 grid gap-2\">\n            <input className=\"input\" placeholder=\"Content English\" value={newHistory.contentEN} onChange={e => setNewHistory({ ...newHistory, contentEN: e.target.value })} />\n            <input className=\"input\" placeholder=\"Content Other Language\" value={newHistory.contentTA} onChange={e => setNewHistory({ ...newHistory, contentTA: e.target.value })} />\n            <button className=\"btn-green\" onClick={addHistory}>Add</button>\n          </div>\n        </article>\n\n        <article className=\"bg-white p-6 rounded shadow\">\n          <h3 className=\"text-lg font-semibold mb-4\">Gallery</h3>\n          <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\n            {gallery.map(item => (\n              <div key={item._id} className=\"border p-2 rounded flex flex-col\">\n                <a href={`${API_BASE}${item.url}`} target=\"_blank\" rel=\"noreferrer\" className=\"truncate hover:underline text-blue-600\">{item.title ?? \"Untitled\"}</a>\n                <p className=\"text-sm text-gray-500 mb-2 truncate\">{item.description}</p>\n                <button className=\"btn-red btn-xs mt-auto\" onClick={() => deleteGallery(item._id)}>Delete</button>\n              </div>\n            ))}\n            {gallery.length === 0 && <p>No gallery items</p>}\n          </div>\n          <div className=\"mt-4 grid gap-2\">\n            <input type=\"file\" onChange={e => setGalleryFile(e.target.files[0])} />\n            <input className=\"input\" placeholder=\"Title\" value={galleryMeta.title} onChange={e => setGalleryMeta({ ...galleryMeta, title: e.target.value })} />\n            <input className=\"input\" placeholder=\"Description\" value={galleryMeta.description} onChange={e => setGalleryMeta({ ...galleryMeta, description: e.target.value })} />\n            <button className=\"btn-green\" onClick={() => uploadGallery()} disabled={!galleryFile}>Upload</button>\n          </div>\n        </article>\n      </section>\n    </div>\n  );\n};\n\nexport default AdminDashboard;\n"],"mappings":"qIAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,OAAO,CAAEC,QAAQ,KAAQ,OAAO,CAC3D,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAAAC,QAAQ,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,uBAAuB,CACzE,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,CAChD,KAAM,CAAAC,OAAO,CAAG,CAAEC,aAAa,WAAAC,MAAA,CAAYL,KAAK,CAAG,CAAC,CAEpD;AACA,KAAM,CAACM,QAAQ,CAAEC,WAAW,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACmB,MAAM,CAAEC,SAAS,CAAC,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACqB,OAAO,CAAEC,UAAU,CAAC,CAAGtB,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACuB,YAAY,CAAEC,eAAe,CAAC,CAAGxB,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACyB,OAAO,CAAEC,UAAU,CAAC,CAAG1B,QAAQ,CAAC,EAAE,CAAC,CAE1C;AACA,KAAM,CAAC2B,OAAO,CAAEC,UAAU,CAAC,CAAG5B,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAAC6B,QAAQ,CAAEC,WAAW,CAAC,CAAG9B,QAAQ,CAAC,EAAE,CAAC,CAE5C;AACA,KAAM,CAAC+B,SAAS,CAAEC,YAAY,CAAC,CAAGhC,QAAQ,CAAC,CACzCiC,QAAQ,CAAE,EAAE,CACZC,UAAU,CAAE,EAAE,CACdC,KAAK,CAAE,EAAE,CACTC,QAAQ,CAAE,EAAE,CACZC,OAAO,CAAE,EAAE,CACXC,KAAK,CAAE,EAAE,CACTC,OAAO,CAAE,EACX,CAAC,CAAC,CACF,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGzC,QAAQ,CAAC,CAAE0C,KAAK,CAAE,EAAE,CAAEC,IAAI,CAAE,EAAG,CAAC,CAAC,CACjE,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAG7C,QAAQ,CAAC,CAAE8C,IAAI,CAAE,EAAE,CAAEC,WAAW,CAAE,EAAG,CAAC,CAAC,CACzE,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGjD,QAAQ,CAAC,CAAEkD,SAAS,CAAE,EAAE,CAAEC,SAAS,CAAE,EAAG,CAAC,CAAC,CAC9E,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGrD,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAACsD,WAAW,CAAEC,cAAc,CAAC,CAAGvD,QAAQ,CAAC,CAAE0C,KAAK,CAAE,EAAE,CAAEK,WAAW,CAAE,EAAG,CAAC,CAAC,CAE9E;AACA,KAAM,CAACS,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGzD,QAAQ,CAAC,EAAE,CAAC,CAC5D,KAAM,CAAC0D,SAAS,CAAEC,YAAY,CAAC,CAAG3D,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAAC4D,QAAQ,CAAEC,WAAW,CAAC,CAAG7D,QAAQ,CAAC,IAAM,CAC7C,KAAM,CAAA8D,CAAC,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC,CACpB,SAAA/C,MAAA,CAAU8C,CAAC,CAACE,WAAW,CAAC,CAAC,MAAAhD,MAAA,CAAIiD,MAAM,CAACH,CAAC,CAACI,QAAQ,CAAC,CAAC,CAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAAE,GAAG,CAAC,EACxE,CAAC,CAAC,CACF,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGrE,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACsE,OAAO,CAAEC,UAAU,CAAC,CAAGvE,QAAQ,CAAC,KAAK,CAAC,CAE7C;AACA,KAAM,CAACwE,YAAY,CAAEC,eAAe,CAAC,CAAGzE,QAAQ,CAAC,EAAE,CAAC,CAEpD;AACA,KAAM,CAAA0E,OAAO,CAAG,KAAAA,CAAA,GAAY,CAC1B,GAAI,CAAC/D,KAAK,CAAE,CACVmB,WAAW,CAAC,oCAAoC,CAAC,CACjD,OACF,CACA,GAAI,CACFF,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAC+C,IAAI,CAAEC,IAAI,CAAEC,IAAI,CAAEC,IAAI,CAAEC,IAAI,CAAC,CAAG,KAAM,CAAAC,OAAO,CAACC,GAAG,CAAC,CACvDhF,KAAK,CAACiF,GAAG,IAAAlE,MAAA,CAAIT,QAAQ,wBAAuB,CAAEO,OAAQ,CAAC,CAAC,CACxDb,KAAK,CAACiF,GAAG,IAAAlE,MAAA,CAAIT,QAAQ,sBAAqB,CAAEO,OAAQ,CAAC,CAAC,CACtDb,KAAK,CAACiF,GAAG,IAAAlE,MAAA,CAAIT,QAAQ,uBAAsB,CAAEO,OAAQ,CAAC,CAAC,CACvDb,KAAK,CAACiF,GAAG,IAAAlE,MAAA,CAAIT,QAAQ,uBAAsB,CAAEO,OAAQ,CAAC,CAAC,CACvDb,KAAK,CAACiF,GAAG,IAAAlE,MAAA,CAAIT,QAAQ,uBAAsB,CAAEO,OAAQ,CAAC,CAAC,CACxD,CAAC,CACFI,WAAW,CAACyD,IAAI,CAACQ,IAAI,EAAI,EAAE,CAAC,CAC5B/D,SAAS,CAACwD,IAAI,CAACO,IAAI,EAAI,EAAE,CAAC,CAC1B7D,UAAU,CAACuD,IAAI,CAACM,IAAI,EAAI,EAAE,CAAC,CAC3B3D,eAAe,CAACsD,IAAI,CAACK,IAAI,EAAI,EAAE,CAAC,CAChCzD,UAAU,CAACqD,IAAI,CAACI,IAAI,EAAI,EAAE,CAAC,CAC3BrD,WAAW,CAAC,EAAE,CAAC,CACjB,CAAE,MAAAsD,OAAA,CAAM,CACNtD,WAAW,CAAC,8CAA8C,CAAC,CAC7D,CAAC,OAAS,CACRF,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED9B,SAAS,CAAC,IAAM,CACd4E,OAAO,CAAC,CAAC,CACX,CAAC,CAAE,EAAE,CAAC,CAEN;AACA;AAEA;AACA,KAAM,CAAAW,gBAAgB,CAAGtF,OAAO,CAAC,IAAM,CACrC,GAAI,CAACyE,YAAY,CAACc,IAAI,CAAC,CAAC,CAAE,MAAO,CAAArE,QAAQ,CACzC,KAAM,CAAAsE,CAAC,CAAGf,YAAY,CAACgB,WAAW,CAAC,CAAC,CACpC,MAAO,CAAAvE,QAAQ,CAACwE,MAAM,CAACC,CAAC,OAAAC,QAAA,OACtB,CAACD,CAAC,CAACzD,QAAQ,CAAG,GAAG,CAAGyD,CAAC,CAACxD,UAAU,CAAG,GAAG,GAAAyD,QAAA,CAAID,CAAC,CAACvD,KAAK,UAAAwD,QAAA,UAAAA,QAAA,CAAI,EAAE,CAAC,EAAEH,WAAW,CAAC,CAAC,CAACI,QAAQ,CAACL,CAAC,CAAC,GAAC,CACxF,CAAC,CAAE,CAACtE,QAAQ,CAAEuD,YAAY,CAAC,CAAC,CAE5B;AACA,KAAM,CAAAqB,YAAY,CAAG9F,OAAO,CAAC,IAAMkB,QAAQ,CAACwE,MAAM,CAACC,CAAC,OAAAI,aAAA,QAAAA,aAAA,CAAIJ,CAAC,CAACK,UAAU,UAAAD,aAAA,iBAAZA,aAAA,CAAcE,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACC,KAAK,GAAKtC,QAAQ,EAAIqC,CAAC,CAACE,IAAI,CAAC,GAAC,CAAE,CAAClF,QAAQ,CAAE2C,QAAQ,CAAC,CAAC,CACvI,KAAM,CAAAwC,cAAc,CAAGrG,OAAO,CAAC,IAAMkB,QAAQ,CAACwE,MAAM,CAACC,CAAC,EAAI,KAAAW,cAAA,CACxD,KAAM,CAAAJ,CAAC,EAAAI,cAAA,CAAGX,CAAC,CAACK,UAAU,UAAAM,cAAA,iBAAZA,cAAA,CAAcC,IAAI,CAACL,CAAC,EAAIA,CAAC,CAACC,KAAK,GAAKtC,QAAQ,CAAC,CACvD,MAAO,CAACqC,CAAC,EAAI,CAACA,CAAC,CAACE,IAAI,CACtB,CAAC,CAAC,CAAE,CAAClF,QAAQ,CAAE2C,QAAQ,CAAC,CAAC,CAEzB;AACA,KAAM,CAAA2C,SAAS,CAAGxG,OAAO,CAAC,IAAM,CAC9B,MAAO,CAAA8F,YAAY,CAACW,MAAM,CAAC,CAACC,GAAG,CAAEf,CAAC,GAAK,KAAAgB,cAAA,CACrC,KAAM,CAAAT,CAAC,EAAAS,cAAA,CAAGhB,CAAC,CAACK,UAAU,UAAAW,cAAA,iBAAZA,cAAA,CAAcJ,IAAI,CAACL,CAAC,EAAIA,CAAC,CAACC,KAAK,GAAKtC,QAAQ,EAAIqC,CAAC,CAACE,IAAI,CAAC,CACjE,MAAO,CAAAM,GAAG,EAAIE,MAAM,CAACV,CAAC,SAADA,CAAC,iBAADA,CAAC,CAAEW,MAAM,CAAC,EAAI,CAAC,CAAC,CACvC,CAAC,CAAE,CAAC,CAAC,CACP,CAAC,CAAE,CAACf,YAAY,CAAEjC,QAAQ,CAAC,CAAC,CAE5B,mBACEvD,KAAA,QAAKwG,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eAEpD3G,IAAA,OAAI0G,SAAS,CAAC,sCAAsC,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,CAExEjF,QAAQ,eAAI1B,IAAA,MAAG0G,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CAAEjF,QAAQ,CAAI,CAAC,CAClEF,OAAO,eAAIxB,IAAA,MAAG0G,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CAAC,YAAU,CAAG,CAAC,cAGnEzG,KAAA,YAASwG,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACxDzG,KAAA,QAAKwG,SAAS,CAAC,yDAAyD,CAAAC,QAAA,eAEtEzG,KAAA,QAAKwG,SAAS,CAAC,yEAAyE,CAAAC,QAAA,eACtF3G,IAAA,UACE2C,IAAI,CAAC,QAAQ,CACb+D,SAAS,CAAC,0DAA0D,CACpEE,WAAW,CAAC,oBAAoB,CAChCC,KAAK,CAAExC,YAAa,CACpByC,QAAQ,CAAEC,CAAC,EAAIzC,eAAe,CAACyC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAChD,CAAC,cACF3G,KAAA,QAAKwG,SAAS,CAAC,yCAAyC,CAAAC,QAAA,eACtD3G,IAAA,WAAQ0G,SAAS,CAAC,eAAe,CAACO,OAAO,CAAE1C,OAAQ,CAAAoC,QAAA,CAAC,SAAO,CAAQ,CAAC,cACpE3G,IAAA,WAAQ0G,SAAS,CAAC,YAAY,CAACO,OAAO,CAAEA,CAAA,GAAM,CAAE,GAAGC,MAAM,CAACC,OAAO,CAAC,qCAAqC,CAAC,CAAEC,KAAK,CAAC,sBAAsB,CAAC,EAAE,CAAAT,QAAA,CAAC,oBAAkB,CAAQ,CAAC,EAClK,CAAC,EACH,CAAC,cAEN3G,IAAA,QAAK0G,SAAS,CAAC,4CAA4C,CAAAC,QAAA,cACzDzG,KAAA,UAAOwG,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eAC3C3G,IAAA,UAAO0G,SAAS,CAAC,0BAA0B,CAAAC,QAAA,cACzCzG,KAAA,OAAAyG,QAAA,eACE3G,IAAA,OAAI0G,SAAS,CAAC,6BAA6B,CAAAC,QAAA,cACzC3G,IAAA,UACE2C,IAAI,CAAC,UAAU,CACf0E,OAAO,CAAE9D,SAAU,CACnBuD,QAAQ,CAAEA,CAAA,GAAM,CACdvD,SAAS,CAAGD,mBAAmB,CAAC,EAAE,CAAC,CAAGA,mBAAmB,CAACxC,QAAQ,CAACwG,GAAG,CAAC/B,CAAC,EAAIA,CAAC,CAACgC,GAAG,CAAC,CAAC,CACnF/D,YAAY,CAAC,CAACD,SAAS,CAAC,CAC1B,CAAE,CACH,CAAC,CACA,CAAC,cACLvD,IAAA,OAAI0G,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,IAAE,CAAI,CAAC,cAClC3G,IAAA,OAAI0G,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,QAAM,CAAI,CAAC,cACtC3G,IAAA,OAAI0G,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAC,UAAQ,CAAI,CAAC,cACpD3G,IAAA,OAAI0G,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,YAAU,CAAI,CAAC,cAC1C3G,IAAA,OAAI0G,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAC,SAAO,CAAI,CAAC,EACjD,CAAC,CACA,CAAC,cACR3G,IAAA,UAAA2G,QAAA,CACGzB,gBAAgB,CAACsC,MAAM,CAAGtC,gBAAgB,CAACoC,GAAG,CAAC/B,CAAC,EAAI,KAAAkC,cAAA,CACnD,KAAM,CAAAC,SAAS,EAAAD,cAAA,CAAGlC,CAAC,CAACK,UAAU,UAAA6B,cAAA,iBAAZA,cAAA,CAAcE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAC5C,mBACEzH,KAAA,OAAgBwG,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC1C3G,IAAA,OAAI0G,SAAS,CAAC,wBAAwB,CAAAC,QAAA,cACpC3G,IAAA,UACE2C,IAAI,CAAC,UAAU,CACf0E,OAAO,CAAEhE,gBAAgB,CAACoC,QAAQ,CAACF,CAAC,CAACgC,GAAG,CAAE,CAC1CT,QAAQ,CAAEA,CAAA,GAAM,CACdzD,gBAAgB,CAACoC,QAAQ,CAACF,CAAC,CAACgC,GAAG,CAAC,CAC5BjE,mBAAmB,CAACD,gBAAgB,CAACiC,MAAM,CAACsC,EAAE,EAAIA,EAAE,GAAKrC,CAAC,CAACgC,GAAG,CAAC,CAAC,CAChEjE,mBAAmB,CAAC,CAAC,GAAGD,gBAAgB,CAAEkC,CAAC,CAACgC,GAAG,CAAC,CAAC,CACvD,CAAE,CACH,CAAC,CACA,CAAC,cACLvH,IAAA,OAAI0G,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAEpB,CAAC,CAACzD,QAAQ,CAAK,CAAC,cAC5C9B,IAAA,OAAI0G,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAEpB,CAAC,CAACxD,UAAU,CAAK,CAAC,cAC9C/B,IAAA,OAAI0G,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAEpB,CAAC,CAACsC,QAAQ,CAAG,KAAK,CAAG,IAAI,CAAK,CAAC,cACvE7H,IAAA,OAAI0G,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAEe,SAAS,IAAA7G,MAAA,CAAM6G,SAAS,CAAC3B,KAAK,YAAAlF,MAAA,CAAK6G,SAAS,CAACjB,MAAM,OAAA5F,MAAA,CAAK6G,SAAS,CAAC1B,IAAI,CAAG,MAAM,CAAG,SAAS,MAAM,GAAG,CAAK,CAAC,cACtI9F,KAAA,OAAIwG,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACpC3G,IAAA,WAAQ0G,SAAS,CAAC,uBAAuB,CAACO,OAAO,CAAEA,CAAA,GAAMa,aAAa,CAACvC,CAAC,CAACgC,GAAG,CAAE,IAAI,CAAE,CAAAZ,QAAA,CAAC,SAAO,CAAQ,CAAC,cACrG3G,IAAA,WAAQ0G,SAAS,CAAC,gBAAgB,CAACO,OAAO,CAAEA,CAAA,GAAMa,aAAa,CAACvC,CAAC,CAACgC,GAAG,CAAE,KAAK,CAAE,CAAAZ,QAAA,CAAC,QAAM,CAAQ,CAAC,EAC5F,CAAC,GAnBEpB,CAAC,CAACgC,GAoBP,CAAC,CAET,CAAC,CAAC,cACAvH,IAAA,OAAA2G,QAAA,cAAI3G,IAAA,OAAI+H,OAAO,CAAE,CAAE,CAACrB,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAAC,mBAAiB,CAAI,CAAC,CAAI,CAC1F,CACI,CAAC,EACH,CAAC,CACL,CAAC,EACH,CAAC,cAGNzG,KAAA,QAAKwG,SAAS,CAAC,0CAA0C,CAAAC,QAAA,eACvD3G,IAAA,OAAI0G,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,eAAa,CAAI,CAAC,cAC7D3G,IAAA,UAAO0G,SAAS,CAAC,OAAO,CAACE,WAAW,CAAC,WAAW,CAACC,KAAK,CAAEjF,SAAS,CAACE,QAAS,CAACgF,QAAQ,CAAEC,CAAC,EAAIlF,YAAY,CAAAmG,aAAA,CAAAA,aAAA,IAAKpG,SAAS,MAAEE,QAAQ,CAAEiF,CAAC,CAACC,MAAM,CAACH,KAAK,EAAC,CAAE,CAAE,CAAC,cACrJ7G,IAAA,UAAO0G,SAAS,CAAC,OAAO,CAACE,WAAW,CAAC,aAAa,CAACC,KAAK,CAAEjF,SAAS,CAACG,UAAW,CAAC+E,QAAQ,CAAEC,CAAC,EAAIlF,YAAY,CAAAmG,aAAA,CAAAA,aAAA,IAAKpG,SAAS,MAAEG,UAAU,CAAEgF,CAAC,CAACC,MAAM,CAACH,KAAK,EAAC,CAAE,CAAE,CAAC,cAC3J7G,IAAA,UAAO0G,SAAS,CAAC,OAAO,CAAC/D,IAAI,CAAC,OAAO,CAACiE,WAAW,CAAC,OAAO,CAACC,KAAK,CAAEjF,SAAS,CAACI,KAAM,CAAC8E,QAAQ,CAAEC,CAAC,EAAIlF,YAAY,CAAAmG,aAAA,CAAAA,aAAA,IAAKpG,SAAS,MAAEI,KAAK,CAAE+E,CAAC,CAACC,MAAM,CAACH,KAAK,EAAC,CAAE,CAAE,CAAC,cACxJ7G,IAAA,UAAO0G,SAAS,CAAC,OAAO,CAAC/D,IAAI,CAAC,UAAU,CAACiE,WAAW,CAAC,UAAU,CAACC,KAAK,CAAEjF,SAAS,CAACK,QAAS,CAAC6E,QAAQ,CAAEC,CAAC,EAAIlF,YAAY,CAAAmG,aAAA,CAAAA,aAAA,IAAKpG,SAAS,MAAEK,QAAQ,CAAE8E,CAAC,CAACC,MAAM,CAACH,KAAK,EAAC,CAAE,CAAE,CAAC,cACpK7G,IAAA,UAAO0G,SAAS,CAAC,OAAO,CAACE,WAAW,CAAC,2BAA2B,CAACC,KAAK,CAAEjF,SAAS,CAACM,OAAQ,CAAC4E,QAAQ,CAAEC,CAAC,EAAIlF,YAAY,CAAAmG,aAAA,CAAAA,aAAA,IAAKpG,SAAS,MAAEM,OAAO,CAAE6E,CAAC,CAACC,MAAM,CAACH,KAAK,EAAC,CAAE,CAAE,CAAC,cACnK7G,IAAA,UAAO0G,SAAS,CAAC,OAAO,CAACE,WAAW,CAAC,OAAO,CAACC,KAAK,CAAEjF,SAAS,CAACO,KAAM,CAAC2E,QAAQ,CAAEC,CAAC,EAAIlF,YAAY,CAAAmG,aAAA,CAAAA,aAAA,IAAKpG,SAAS,MAAEO,KAAK,CAAE4E,CAAC,CAACC,MAAM,CAACH,KAAK,EAAC,CAAE,CAAE,CAAC,cAC3I7G,IAAA,UAAO0G,SAAS,CAAC,OAAO,CAACE,WAAW,CAAC,SAAS,CAACC,KAAK,CAAEjF,SAAS,CAACQ,OAAQ,CAAC0E,QAAQ,CAAEC,CAAC,EAAIlF,YAAY,CAAAmG,aAAA,CAAAA,aAAA,IAAKpG,SAAS,MAAEQ,OAAO,CAAE2E,CAAC,CAACC,MAAM,CAACH,KAAK,EAAC,CAAE,CAAE,CAAC,cACjJ7G,IAAA,WAAQ0G,SAAS,CAAC,sBAAsB,CAACO,OAAO,CAAEgB,YAAa,CAACC,QAAQ,CAAE1G,OAAQ,CAAAmF,QAAA,CAAC,QAAM,CAAQ,CAAC,EAC/F,CAAC,EACC,CAAC,cAGVzG,KAAA,YAASwG,SAAS,CAAC,iCAAiC,CAAAC,QAAA,eAClDzG,KAAA,YAASwG,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC9C3G,IAAA,OAAI0G,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,gBAAc,CAAI,CAAC,cAC9DzG,KAAA,QAAKwG,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBzG,KAAA,UAAOwG,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACxC3G,IAAA,UAAO2C,IAAI,CAAC,UAAU,CAAC0E,OAAO,CAAE9D,SAAU,CAACuD,QAAQ,CAAEA,CAAA,GAAM,CACzDvD,SAAS,CAAGD,mBAAmB,CAAC,EAAE,CAAC,CAAGA,mBAAmB,CAACxC,QAAQ,CAACwG,GAAG,CAAC/B,CAAC,EAAIA,CAAC,CAACgC,GAAG,CAAC,CAAC,CACnF/D,YAAY,CAAC,CAACD,SAAS,CAAC,CAC1B,CAAE,CAAE,CAAC,sBAEP,EAAO,CAAC,cACRvD,IAAA,UAAO2C,IAAI,CAAC,OAAO,CAAC+D,SAAS,CAAC,OAAO,CAACG,KAAK,CAAEpD,QAAS,CAACqD,QAAQ,CAAEC,CAAC,EAAIrD,WAAW,CAACqD,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAE,CAAC,cACrG7G,IAAA,UAAO2C,IAAI,CAAC,QAAQ,CAAC+D,SAAS,CAAC,OAAO,CAACE,WAAW,CAAC,QAAQ,CAACC,KAAK,CAAE5C,SAAU,CAAC6C,QAAQ,CAAEC,CAAC,EAAI7C,YAAY,CAAC6C,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAE,CAAC,cAC7H3G,KAAA,UAAOwG,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACxC3G,IAAA,UAAO2C,IAAI,CAAC,UAAU,CAAC0E,OAAO,CAAElD,OAAQ,CAAC2C,QAAQ,CAAEC,CAAC,EAAI3C,UAAU,CAAC2C,CAAC,CAACC,MAAM,CAACK,OAAO,CAAE,CAAE,CAAC,eAE1F,EAAO,CAAC,cACRrH,IAAA,WAAQ0G,SAAS,CAAC,kBAAkB,CAACO,OAAO,CAAEkB,UAAW,CAACD,QAAQ,CAAE1G,OAAQ,CAAAmF,QAAA,CAAC,SAAO,CAAQ,CAAC,cAC7FzG,KAAA,MAAGwG,SAAS,CAAC,wCAAwC,CAAAC,QAAA,EAAC,oBAAa,CAACP,SAAS,EAAI,CAAC,EAC/E,CAAC,EACC,CAAC,cAEVlG,KAAA,YAASwG,SAAS,CAAC,oDAAoD,CAAAC,QAAA,eACrEzG,KAAA,OAAIwG,SAAS,CAAC,4BAA4B,CAAAC,QAAA,EAAC,iBAAe,CAACjB,YAAY,CAAC8B,MAAM,CAAC,GAAC,EAAI,CAAC,CACpF9B,YAAY,CAAC8B,MAAM,GAAK,CAAC,eAAIxH,IAAA,MAAA2G,QAAA,CAAG,kBAAgB,CAAG,CAAC,CACpDjB,YAAY,CAAC4B,GAAG,CAAC/B,CAAC,EAAI,KAAA6C,cAAA,CACrB,KAAM,CAAAtC,CAAC,EAAAsC,cAAA,CAAG7C,CAAC,CAACK,UAAU,UAAAwC,cAAA,iBAAZA,cAAA,CAAcjC,IAAI,CAACkC,EAAE,EAAIA,EAAE,CAACtC,KAAK,GAAKtC,QAAQ,EAAI4E,EAAE,CAACrC,IAAI,CAAC,CACpE,mBACE9F,KAAA,QAAiBwG,SAAS,CAAC,mDAAmD,CAAAC,QAAA,eAC5EzG,KAAA,SAAAyG,QAAA,EAAOpB,CAAC,CAACzD,QAAQ,CAAC,UAAG,CAACyD,CAAC,CAACxD,UAAU,EAAO,CAAC,cAC1C7B,KAAA,WAAAyG,QAAA,EAAQ,QAAC,CAACb,CAAC,SAADA,CAAC,iBAADA,CAAC,CAAEW,MAAM,EAAS,CAAC,GAFrBlB,CAAC,CAACgC,GAGP,CAAC,CAEV,CAAC,CAAC,EACK,CAAC,cAEVrH,KAAA,YAASwG,SAAS,CAAC,oDAAoD,CAAAC,QAAA,eACrEzG,KAAA,OAAIwG,SAAS,CAAC,4BAA4B,CAAAC,QAAA,EAAC,oBAAkB,CAACV,cAAc,CAACuB,MAAM,CAAC,GAAC,EAAI,CAAC,CACzFvB,cAAc,CAACuB,MAAM,GAAK,CAAC,eAAIxH,IAAA,MAAA2G,QAAA,CAAG,qBAAmB,CAAG,CAAC,CACzDV,cAAc,CAACqB,GAAG,CAAC/B,CAAC,EAAI,KAAA+C,cAAA,CACvB,KAAM,CAAAxC,CAAC,EAAAwC,cAAA,CAAG/C,CAAC,CAACK,UAAU,UAAA0C,cAAA,iBAAZA,cAAA,CAAcnC,IAAI,CAACkC,EAAE,EAAIA,EAAE,CAACtC,KAAK,GAAKtC,QAAQ,CAAC,CACzD,KAAM,CAAAgD,MAAM,CAAGX,CAAC,CAAGA,CAAC,CAACW,MAAM,CAAGxC,SAAS,EAAI,GAAG,CAC9C,mBACE/D,KAAA,QAAiBwG,SAAS,CAAC,iDAAiD,CAAAC,QAAA,eAC1EzG,KAAA,SAAAyG,QAAA,EAAOpB,CAAC,CAACzD,QAAQ,CAAC,UAAG,CAACyD,CAAC,CAACxD,UAAU,CAAC,gBAAI,CAAC0E,MAAM,EAAO,CAAC,cACtDzG,IAAA,WAAQ0G,SAAS,CAAC,UAAU,CAACO,OAAO,CAAEA,CAAA,GAAMsB,aAAa,CAAChD,CAAC,CAACgC,GAAG,CAAE9D,QAAQ,CAAE,CAACyE,QAAQ,CAAE1G,OAAQ,CAAAmF,QAAA,CAAC,WAAS,CAAQ,CAAC,GAFzGpB,CAAC,CAACgC,GAGP,CAAC,CAEV,CAAC,CAAC,EACK,CAAC,EACH,CAAC,cAGVrH,KAAA,YAASwG,SAAS,CAAC,iCAAiC,CAAAC,QAAA,eAClDzG,KAAA,YAASwG,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC9C3G,IAAA,OAAI0G,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,QAAM,CAAI,CAAC,cACtDzG,KAAA,OAAIwG,SAAS,CAAC,iDAAiD,CAAAC,QAAA,EAC5D3F,MAAM,CAACsG,GAAG,CAACkB,EAAE,eACZtI,KAAA,OAAiBwG,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACpDzG,KAAA,QAAAyG,QAAA,EAAM6B,EAAE,CAACjG,KAAK,CAAC,UAAG,CAAC,GAAI,CAAAqB,IAAI,CAAC4E,EAAE,CAAChG,IAAI,CAAC,CAACiG,kBAAkB,CAAC,CAAC,EAAM,CAAC,cAChEzI,IAAA,WAAQ0G,SAAS,CAAC,gBAAgB,CAACO,OAAO,CAAEA,CAAA,GAAMyB,WAAW,CAACF,EAAE,CAACjB,GAAG,CAAE,CAAAZ,QAAA,CAAC,QAAM,CAAQ,CAAC,GAF/E6B,EAAE,CAACjB,GAGR,CACL,CAAC,CACDvG,MAAM,CAACwG,MAAM,GAAK,CAAC,eAAIxH,IAAA,MAAA2G,QAAA,CAAG,WAAS,CAAG,CAAC,EACtC,CAAC,cACLzG,KAAA,QAAKwG,SAAS,CAAC,4CAA4C,CAAAC,QAAA,eACzD3G,IAAA,UAAO0G,SAAS,CAAC,OAAO,CAACE,WAAW,CAAC,OAAO,CAACC,KAAK,CAAExE,QAAQ,CAACE,KAAM,CAACuE,QAAQ,CAAEC,CAAC,EAAIzE,WAAW,CAAA0F,aAAA,CAAAA,aAAA,IAAM3F,QAAQ,MAAEE,KAAK,CAAEwE,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CAAE,CAAC,cAC1I7G,IAAA,UAAO0G,SAAS,CAAC,OAAO,CAAC/D,IAAI,CAAC,MAAM,CAACkE,KAAK,CAAExE,QAAQ,CAACG,IAAK,CAACsE,QAAQ,CAAEC,CAAC,EAAIzE,WAAW,CAAA0F,aAAA,CAAAA,aAAA,IAAM3F,QAAQ,MAAEG,IAAI,CAAEuE,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CAAE,CAAC,cAChI7G,IAAA,WAAQ0G,SAAS,CAAC,WAAW,CAACO,OAAO,CAAE0B,QAAS,CAAAhC,QAAA,CAAC,KAAG,CAAQ,CAAC,EAC1D,CAAC,EACC,CAAC,cAEVzG,KAAA,YAASwG,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC9C3G,IAAA,OAAI0G,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,SAAO,CAAI,CAAC,cACvDzG,KAAA,OAAIwG,SAAS,CAAC,iDAAiD,CAAAC,QAAA,EAC5DzF,OAAO,CAACoG,GAAG,CAACsB,MAAM,eACjB1I,KAAA,OAAqBwG,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxDzG,KAAA,QAAAyG,QAAA,EAAMiC,MAAM,CAACjG,IAAI,CAAC,UAAG,CAACiG,MAAM,CAAChG,WAAW,EAAM,CAAC,cAC/C5C,IAAA,WAAQ0G,SAAS,CAAC,gBAAgB,CAACO,OAAO,CAAEA,CAAA,GAAM4B,YAAY,CAACD,MAAM,CAACrB,GAAG,CAAE,CAAAZ,QAAA,CAAC,QAAM,CAAQ,CAAC,GAFpFiC,MAAM,CAACrB,GAGZ,CACL,CAAC,CACDrG,OAAO,CAACsG,MAAM,GAAK,CAAC,eAAIxH,IAAA,MAAA2G,QAAA,CAAG,YAAU,CAAG,CAAC,EACxC,CAAC,cACLzG,KAAA,QAAKwG,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9B3G,IAAA,UAAO0G,SAAS,CAAC,OAAO,CAACE,WAAW,CAAC,MAAM,CAACC,KAAK,CAAEpE,SAAS,CAACE,IAAK,CAACmE,QAAQ,CAAEC,CAAC,EAAIrE,YAAY,CAAAsF,aAAA,CAAAA,aAAA,IAAMvF,SAAS,MAAEE,IAAI,CAAEoE,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CAAE,CAAC,cAC1I7G,IAAA,UAAO0G,SAAS,CAAC,OAAO,CAACE,WAAW,CAAC,aAAa,CAACC,KAAK,CAAEpE,SAAS,CAACG,WAAY,CAACkE,QAAQ,CAAEC,CAAC,EAAIrE,YAAY,CAAAsF,aAAA,CAAAA,aAAA,IAAMvF,SAAS,MAAEG,WAAW,CAAEmE,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CAAE,CAAC,cAC/J7G,IAAA,WAAQ0G,SAAS,CAAC,WAAW,CAACO,OAAO,CAAE6B,SAAU,CAAAnC,QAAA,CAAC,KAAG,CAAQ,CAAC,EAC3D,CAAC,EACC,CAAC,EACH,CAAC,cAGVzG,KAAA,YAASwG,SAAS,CAAC,iCAAiC,CAAAC,QAAA,eAClDzG,KAAA,YAASwG,SAAS,CAAC,oDAAoD,CAAAC,QAAA,eACrE3G,IAAA,OAAI0G,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,SAAO,CAAI,CAAC,cACvDzG,KAAA,OAAIwG,SAAS,CAAC,0BAA0B,CAAAC,QAAA,EACrCvF,YAAY,CAACkG,GAAG,CAACyB,IAAI,OAAAC,aAAA,CAAAC,cAAA,oBACpB/I,KAAA,OAAmBwG,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACtD3G,IAAA,QAAA2G,QAAA,CAAM,EAAAqC,aAAA,CAAAD,IAAI,CAACG,OAAO,UAAAF,aAAA,iBAAZA,aAAA,CAAcG,EAAE,KAAAF,cAAA,CAAIF,IAAI,CAACG,OAAO,UAAAD,cAAA,iBAAZA,cAAA,CAAcG,EAAE,EAAM,CAAC,cACjDpJ,IAAA,WAAQ0G,SAAS,CAAC,gBAAgB,CAACO,OAAO,CAAEA,CAAA,GAAMoC,aAAa,CAACN,IAAI,CAACxB,GAAG,CAAE,CAAAZ,QAAA,CAAC,QAAM,CAAQ,CAAC,GAFnFoC,IAAI,CAACxB,GAGV,CAAC,EACN,CAAC,CACDnG,YAAY,CAACoG,MAAM,GAAK,CAAC,eAAIxH,IAAA,MAAA2G,QAAA,CAAG,kBAAgB,CAAG,CAAC,EACnD,CAAC,cACLzG,KAAA,QAAKwG,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9B3G,IAAA,UAAO0G,SAAS,CAAC,OAAO,CAACE,WAAW,CAAC,iBAAiB,CAACC,KAAK,CAAEhE,UAAU,CAACE,SAAU,CAAC+D,QAAQ,CAAEC,CAAC,EAAIjE,aAAa,CAAAkF,aAAA,CAAAA,aAAA,IAAMnF,UAAU,MAAEE,SAAS,CAAEgE,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CAAE,CAAC,cAClK7G,IAAA,UAAO0G,SAAS,CAAC,OAAO,CAACE,WAAW,CAAC,wBAAwB,CAACC,KAAK,CAAEhE,UAAU,CAACG,SAAU,CAAC8D,QAAQ,CAAEC,CAAC,EAAIjE,aAAa,CAAAkF,aAAA,CAAAA,aAAA,IAAMnF,UAAU,MAAEG,SAAS,CAAE+D,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CAAE,CAAC,cACzK7G,IAAA,WAAQ0G,SAAS,CAAC,WAAW,CAACO,OAAO,CAAEqC,UAAW,CAAA3C,QAAA,CAAC,KAAG,CAAQ,CAAC,EAC5D,CAAC,EACC,CAAC,cAEVzG,KAAA,YAASwG,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC9C3G,IAAA,OAAI0G,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,SAAO,CAAI,CAAC,cACvDzG,KAAA,QAAKwG,SAAS,CAAC,uCAAuC,CAAAC,QAAA,EACnDrF,OAAO,CAACgG,GAAG,CAACyB,IAAI,OAAAQ,WAAA,oBACfrJ,KAAA,QAAoBwG,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC9D3G,IAAA,MAAGwJ,IAAI,IAAA3I,MAAA,CAAKT,QAAQ,EAAAS,MAAA,CAAGkI,IAAI,CAACU,GAAG,CAAG,CAACzC,MAAM,CAAC,QAAQ,CAAC0C,GAAG,CAAC,YAAY,CAAChD,SAAS,CAAC,wCAAwC,CAAAC,QAAA,EAAA4C,WAAA,CAAER,IAAI,CAACxG,KAAK,UAAAgH,WAAA,UAAAA,WAAA,CAAI,UAAU,CAAI,CAAC,cACrJvJ,IAAA,MAAG0G,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAEoC,IAAI,CAACnG,WAAW,CAAI,CAAC,cACzE5C,IAAA,WAAQ0G,SAAS,CAAC,wBAAwB,CAACO,OAAO,CAAEA,CAAA,GAAM0C,aAAa,CAACZ,IAAI,CAACxB,GAAG,CAAE,CAAAZ,QAAA,CAAC,QAAM,CAAQ,CAAC,GAH1FoC,IAAI,CAACxB,GAIV,CAAC,EACP,CAAC,CACDjG,OAAO,CAACkG,MAAM,GAAK,CAAC,eAAIxH,IAAA,MAAA2G,QAAA,CAAG,kBAAgB,CAAG,CAAC,EAC7C,CAAC,cACNzG,KAAA,QAAKwG,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9B3G,IAAA,UAAO2C,IAAI,CAAC,MAAM,CAACmE,QAAQ,CAAEC,CAAC,EAAI7D,cAAc,CAAC6D,CAAC,CAACC,MAAM,CAAC4C,KAAK,CAAC,CAAC,CAAC,CAAE,CAAE,CAAC,cACvE5J,IAAA,UAAO0G,SAAS,CAAC,OAAO,CAACE,WAAW,CAAC,OAAO,CAACC,KAAK,CAAE1D,WAAW,CAACZ,KAAM,CAACuE,QAAQ,CAAEC,CAAC,EAAI3D,cAAc,CAAA4E,aAAA,CAAAA,aAAA,IAAM7E,WAAW,MAAEZ,KAAK,CAAEwE,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CAAE,CAAC,cACnJ7G,IAAA,UAAO0G,SAAS,CAAC,OAAO,CAACE,WAAW,CAAC,aAAa,CAACC,KAAK,CAAE1D,WAAW,CAACP,WAAY,CAACkE,QAAQ,CAAEC,CAAC,EAAI3D,cAAc,CAAA4E,aAAA,CAAAA,aAAA,IAAM7E,WAAW,MAAEP,WAAW,CAAEmE,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CAAE,CAAC,cACrK7G,IAAA,WAAQ0G,SAAS,CAAC,WAAW,CAACO,OAAO,CAAEA,CAAA,GAAM4C,aAAa,CAAC,CAAE,CAAC3B,QAAQ,CAAE,CAACjF,WAAY,CAAA0D,QAAA,CAAC,QAAM,CAAQ,CAAC,EAClG,CAAC,EACC,CAAC,EACH,CAAC,EACP,CAAC,CAEV,CAAC,CAED,cAAe,CAAAxG,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}