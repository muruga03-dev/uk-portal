{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FamilyDashboard=()=>{var _family$members,_family$taxHistory,_family$documents;const[family,setFamily]=useState(null);const[file,setFile]=useState(null);const[msg,setMsg]=useState(\"\");const[loading,setLoading]=useState(false);const API_BASE=process.env.REACT_APP_API_URL||\"https://uk-portal-3.onrender.com\";const token=localStorage.getItem(\"familyToken\");// Fetch family profile on mount or token change\nuseEffect(()=>{const fetchFamily=async()=>{if(!token){setMsg(\"⚠️ No authentication token found. Please login.\");return;}setLoading(true);try{const res=await axios.get(\"\".concat(API_BASE,\"/api/family/me\"),{headers:{Authorization:\"Bearer \".concat(token)}});setFamily(res.data);}catch(error){var _error$response,_error$response$data;console.error(\"Error fetching family profile:\",error.response||error);setMsg(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||\"⚠️ Failed to load family data. Please login again.\");}finally{setLoading(false);}};fetchFamily();},[token,API_BASE]);// Document upload handler\nconst handleUpload=async()=>{if(!file){setMsg(\"⚠️ Please select a file\");return;}setLoading(true);const formData=new FormData();formData.append(\"document\",file);try{const res=await axios.post(\"\".concat(API_BASE,\"/api/family/upload\"),formData,{headers:{Authorization:\"Bearer \".concat(token),\"Content-Type\":\"multipart/form-data\"}});if(res.data.family)setFamily(res.data.family);setFile(null);setMsg(\"✅ File uploaded successfully\");}catch(error){var _error$response2,_error$response2$data;console.error(\"Upload error:\",error.response||error);setMsg(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||\"⚠️ Upload failed\");}finally{setLoading(false);}};// Document delete handler\nconst handleDelete=async docId=>{if(!window.confirm(\"Are you sure you want to delete this document?\"))return;setLoading(true);try{const res=await axios.delete(\"\".concat(API_BASE,\"/api/family/document/\").concat(docId),{headers:{Authorization:\"Bearer \".concat(token)}});if(res.data.family)setFamily(res.data.family);setMsg(\"✅ Document deleted successfully\");}catch(error){var _error$response3,_error$response3$data;console.error(\"Delete error:\",error.response||error);setMsg(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.message)||\"⚠️ Failed to delete document\");}finally{setLoading(false);}};// Toggle Tax Paid Status handler\nconst toggleTaxPaidStatus=async(taxId,currentStatus)=>{setLoading(true);try{await axios.post(\"\".concat(API_BASE,\"/api/family/tax\"),// Use POST /tax as per your API spec for update\n{taxId,// send taxId or familyId + month depends on your backend\npaid:!currentStatus},{headers:{Authorization:\"Bearer \".concat(token)}});const res=await axios.get(\"\".concat(API_BASE,\"/api/family/me\"),{headers:{Authorization:\"Bearer \".concat(token)}});setFamily(res.data);setMsg(\"\\u2705 Tax marked as \".concat(!currentStatus?\"Paid\":\"Pending\"));}catch(error){var _error$response4,_error$response4$data;console.error(\"Tax status toggle error:\",error.response||error);setMsg(((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.message)||\"⚠️ Failed to update tax status\");}finally{setLoading(false);}};// Delete single tax entry handler\nconst handleTaxDelete=async taxId=>{if(!window.confirm(\"Are you sure you want to delete this tax record?\"))return;setLoading(true);try{await axios.delete(\"\".concat(API_BASE,\"/api/family/tax/\").concat(taxId),{headers:{Authorization:\"Bearer \".concat(token)}});const res=await axios.get(\"\".concat(API_BASE,\"/api/family/me\"),{headers:{Authorization:\"Bearer \".concat(token)}});setFamily(res.data);setMsg(\"✅ Tax record deleted successfully\");}catch(error){var _error$response5,_error$response5$data;console.error(\"Delete tax error:\",error.response||error);setMsg(((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.message)||\"⚠️ Failed to delete tax record\");}finally{setLoading(false);}};if(!family)return/*#__PURE__*/_jsx(\"div\",{className:\"p-8 text-center text-lg font-semibold animate-pulse text-gray-700\",children:\"\\u23F3 Loading family data...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 sm:p-8 max-w-4xl mx-auto space-y-10 font-sans\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-center text-green-700 mb-6\",children:\"\\uD83C\\uDFE0 Family Dashboard\"}),loading&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center font-semibold text-blue-600\",children:\"Processing...\"}),msg&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center font-medium text-yellow-700\",children:msg}),/*#__PURE__*/_jsxs(\"section\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold border-b mb-4 pb-2 text-gray-800\",children:\"Family Information\"}),/*#__PURE__*/_jsxs(\"dl\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-4 text-gray-700 text-sm\",children:[/*#__PURE__*/_jsx(InfoItem,{label:\"Family ID\",value:family.familyId}),/*#__PURE__*/_jsx(InfoItem,{label:\"Leader\",value:family.leaderName}),/*#__PURE__*/_jsx(InfoItem,{label:\"Members\",value:((_family$members=family.members)===null||_family$members===void 0?void 0:_family$members.join(\", \"))||\"-\"}),/*#__PURE__*/_jsx(InfoItem,{label:\"Address\",value:family.address||\"-\"}),/*#__PURE__*/_jsx(InfoItem,{label:\"Email\",value:family.email||\"-\"}),/*#__PURE__*/_jsx(InfoItem,{label:\"Phone\",value:family.phone||\"-\"})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"bg-white rounded-lg shadow p-6 overflow-auto max-h-96\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold border-b mb-4 pb-2 text-gray-800\",children:\"Tax Information\"}),(_family$taxHistory=family.taxHistory)!==null&&_family$taxHistory!==void 0&&_family$taxHistory.length?/*#__PURE__*/_jsxs(\"table\",{className:\"w-full border-collapse rounded-lg overflow-hidden border\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-100 sticky top-0\",children:/*#__PURE__*/_jsx(\"tr\",{children:[\"Month\",\"Amount (₹)\",\"Status\",\"Action\",\"Delete\"].map(title=>/*#__PURE__*/_jsx(\"th\",{className:\"p-3 border border-gray-300 text-center text-gray-700 font-semibold\",children:title},title))})}),/*#__PURE__*/_jsx(\"tbody\",{children:family.taxHistory.map(tax=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50 transition-colors\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"p-3 border border-gray-300 text-left\",children:tax.month}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3 border border-gray-300 text-right\",children:tax.amount}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3 border border-gray-300 text-center font-bold \".concat(tax.paid?\"text-green-600\":\"text-red-600\"),children:tax.paid?\"Paid\":\"Pending\"}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3 border border-gray-300 text-center\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>toggleTaxPaidStatus(tax._id,tax.paid),disabled:loading,className:\"px-4 py-1 rounded focus:outline-none transition \".concat(tax.paid?\"bg-yellow-500 hover:bg-yellow-600\":\"bg-green-600 hover:bg-green-700 text-white\"),\"aria-label\":\"Mark tax for \".concat(tax.month,\" as \").concat(tax.paid?\"Pending\":\"Paid\"),children:[\"Mark as \",tax.paid?\"Pending\":\"Paid\"]})}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3 border border-gray-300 text-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleTaxDelete(tax._id),disabled:loading,className:\"bg-red-600 hover:bg-red-700 text-white px-4 py-1 rounded focus:outline-none\",\"aria-label\":\"Delete tax record for \".concat(tax.month),children:\"Delete\"})})]},tax._id))})]}):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"No tax records found.\"})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold border-b mb-4 pb-2 text-gray-800\",children:\"Upload Documents\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-4 items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:e=>setFile(e.target.files[0]),\"aria-label\":\"Select document file\",className:\"border border-gray-300 rounded px-3 py-2 w-full sm:w-auto\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUpload,disabled:loading||!file,className:\"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 focus:outline-none transition\",children:\"Upload\"})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold border-b mb-4 pb-2 text-gray-800\",children:\"Uploaded Documents\"}),(_family$documents=family.documents)!==null&&_family$documents!==void 0&&_family$documents.length?/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-3\",children:family.documents.map(doc=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex flex-col sm:flex-row justify-between items-center bg-gray-50 rounded px-3 py-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"truncate max-w-xs\",children:doc.originalName||doc.filename}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500 text-xs\",children:new Date(doc.uploadedAt).toLocaleString()}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 mt-2 sm:mt-0\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"\".concat(API_BASE).concat(doc.path),target:\"_blank\",rel:\"noopener noreferrer\",download:true,className:\"text-blue-600 hover:underline\",\"aria-label\":\"Download \".concat(doc.originalName||doc.filename),children:\"Download\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(doc._id),disabled:loading,className:\"text-red-600 hover:underline focus:outline-none\",\"aria-label\":\"Delete \".concat(doc.originalName||doc.filename),children:\"Delete\"})]})]},doc._id))}):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"No documents uploaded yet.\"})]})]});};export default FamilyDashboard;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","FamilyDashboard","_family$members","_family$taxHistory","_family$documents","family","setFamily","file","setFile","msg","setMsg","loading","setLoading","API_BASE","process","env","REACT_APP_API_URL","token","localStorage","getItem","fetchFamily","res","get","concat","headers","Authorization","data","error","_error$response","_error$response$data","console","response","message","handleUpload","formData","FormData","append","post","_error$response2","_error$response2$data","handleDelete","docId","window","confirm","delete","_error$response3","_error$response3$data","toggleTaxPaidStatus","taxId","currentStatus","paid","_error$response4","_error$response4$data","handleTaxDelete","_error$response5","_error$response5$data","className","children","InfoItem","label","value","familyId","leaderName","members","join","address","email","phone","taxHistory","length","map","title","tax","month","amount","onClick","_id","disabled","type","onChange","e","target","files","documents","doc","originalName","filename","Date","uploadedAt","toLocaleString","href","path","rel","download"],"sources":["C:/Users/murug/OneDrive/Desktop/uk-portal/client/src/pages/FamilyDashboard.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nconst FamilyDashboard = () => {\n  const [family, setFamily] = useState(null);\n  const [file, setFile] = useState(null);\n  const [msg, setMsg] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const API_BASE = process.env.REACT_APP_API_URL || \"https://uk-portal-3.onrender.com\";\n  const token = localStorage.getItem(\"familyToken\");\n\n  // Fetch family profile on mount or token change\n  useEffect(() => {\n    const fetchFamily = async () => {\n      if (!token) {\n        setMsg(\"⚠️ No authentication token found. Please login.\");\n        return;\n      }\n      setLoading(true);\n      try {\n        const res = await axios.get(`${API_BASE}/api/family/me`, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        setFamily(res.data);\n      } catch (error) {\n        console.error(\"Error fetching family profile:\", error.response || error);\n        setMsg(error.response?.data?.message || \"⚠️ Failed to load family data. Please login again.\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchFamily();\n  }, [token, API_BASE]);\n\n  // Document upload handler\n  const handleUpload = async () => {\n    if (!file) {\n      setMsg(\"⚠️ Please select a file\");\n      return;\n    }\n    setLoading(true);\n    const formData = new FormData();\n    formData.append(\"document\", file);\n    try {\n      const res = await axios.post(`${API_BASE}/api/family/upload`, formData, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"multipart/form-data\",\n        },\n      });\n      if (res.data.family) setFamily(res.data.family);\n      setFile(null);\n      setMsg(\"✅ File uploaded successfully\");\n    } catch (error) {\n      console.error(\"Upload error:\", error.response || error);\n      setMsg(error.response?.data?.message || \"⚠️ Upload failed\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Document delete handler\n  const handleDelete = async (docId) => {\n    if (!window.confirm(\"Are you sure you want to delete this document?\")) return;\n    setLoading(true);\n    try {\n      const res = await axios.delete(`${API_BASE}/api/family/document/${docId}`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      if (res.data.family) setFamily(res.data.family);\n      setMsg(\"✅ Document deleted successfully\");\n    } catch (error) {\n      console.error(\"Delete error:\", error.response || error);\n      setMsg(error.response?.data?.message || \"⚠️ Failed to delete document\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Toggle Tax Paid Status handler\n  const toggleTaxPaidStatus = async (taxId, currentStatus) => {\n    setLoading(true);\n    try {\n      await axios.post(\n        `${API_BASE}/api/family/tax`,    // Use POST /tax as per your API spec for update\n        {\n          taxId,                        // send taxId or familyId + month depends on your backend\n          paid: !currentStatus,\n        },\n        { headers: { Authorization: `Bearer ${token}` } }\n      );\n      const res = await axios.get(`${API_BASE}/api/family/me`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      setFamily(res.data);\n      setMsg(`✅ Tax marked as ${!currentStatus ? \"Paid\" : \"Pending\"}`);\n    } catch (error) {\n      console.error(\"Tax status toggle error:\", error.response || error);\n      setMsg(error.response?.data?.message || \"⚠️ Failed to update tax status\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Delete single tax entry handler\n  const handleTaxDelete = async (taxId) => {\n    if (!window.confirm(\"Are you sure you want to delete this tax record?\")) return;\n    setLoading(true);\n    try {\n      await axios.delete(`${API_BASE}/api/family/tax/${taxId}`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      const res = await axios.get(`${API_BASE}/api/family/me`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      setFamily(res.data);\n      setMsg(\"✅ Tax record deleted successfully\");\n    } catch (error) {\n      console.error(\"Delete tax error:\", error.response || error);\n      setMsg(error.response?.data?.message || \"⚠️ Failed to delete tax record\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (!family)\n    return (\n      <div className=\"p-8 text-center text-lg font-semibold animate-pulse text-gray-700\">\n        ⏳ Loading family data...\n      </div>\n    );\n\n  return (\n    <div className=\"p-4 sm:p-8 max-w-4xl mx-auto space-y-10 font-sans\">\n      <h2 className=\"text-3xl font-bold text-center text-green-700 mb-6\">🏠 Family Dashboard</h2>\n\n      {loading && <p className=\"text-center font-semibold text-blue-600\">Processing...</p>}\n      {msg && <p className=\"text-center font-medium text-yellow-700\">{msg}</p>}\n\n      {/* Family Info Card */}\n      <section className=\"bg-white rounded-lg shadow p-6\">\n        <h3 className=\"text-xl font-semibold border-b mb-4 pb-2 text-gray-800\">Family Information</h3>\n        <dl className=\"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-4 text-gray-700 text-sm\">\n          <InfoItem label=\"Family ID\" value={family.familyId} />\n          <InfoItem label=\"Leader\" value={family.leaderName} />\n          <InfoItem label=\"Members\" value={family.members?.join(\", \") || \"-\"} />\n          <InfoItem label=\"Address\" value={family.address || \"-\"} />\n          <InfoItem label=\"Email\" value={family.email || \"-\"} />\n          <InfoItem label=\"Phone\" value={family.phone || \"-\"} />\n        </dl>\n      </section>\n\n      {/* Tax Info Card */}\n      <section className=\"bg-white rounded-lg shadow p-6 overflow-auto max-h-96\">\n        <h3 className=\"text-xl font-semibold border-b mb-4 pb-2 text-gray-800\">Tax Information</h3>\n        {family.taxHistory?.length ? (\n          <table className=\"w-full border-collapse rounded-lg overflow-hidden border\">\n            <thead className=\"bg-gray-100 sticky top-0\">\n              <tr>\n                {[\"Month\", \"Amount (₹)\", \"Status\", \"Action\", \"Delete\"].map(title => (\n                  <th key={title} className=\"p-3 border border-gray-300 text-center text-gray-700 font-semibold\">{title}</th>\n                ))}\n              </tr>\n            </thead>\n            <tbody>\n              {family.taxHistory.map((tax) => (\n                <tr\n                  key={tax._id}\n                  className=\"hover:bg-gray-50 transition-colors\"\n                >\n                  <td className=\"p-3 border border-gray-300 text-left\">{tax.month}</td>\n                  <td className=\"p-3 border border-gray-300 text-right\">{tax.amount}</td>\n                  <td className={`p-3 border border-gray-300 text-center font-bold ${tax.paid ? \"text-green-600\" : \"text-red-600\"}`}>{tax.paid ? \"Paid\" : \"Pending\"}</td>\n                  <td className=\"p-3 border border-gray-300 text-center\">\n                    <button\n                      onClick={() => toggleTaxPaidStatus(tax._id, tax.paid)}\n                      disabled={loading}\n                      className={`px-4 py-1 rounded focus:outline-none transition ${tax.paid ? \"bg-yellow-500 hover:bg-yellow-600\" : \"bg-green-600 hover:bg-green-700 text-white\"}`}\n                      aria-label={`Mark tax for ${tax.month} as ${tax.paid ? \"Pending\" : \"Paid\"}`}\n                    >\n                      Mark as {tax.paid ? \"Pending\" : \"Paid\"}\n                    </button>\n                  </td>\n                  <td className=\"p-3 border border-gray-300 text-center\">\n                    <button\n                      onClick={() => handleTaxDelete(tax._id)}\n                      disabled={loading}\n                      className=\"bg-red-600 hover:bg-red-700 text-white px-4 py-1 rounded focus:outline-none\"\n                      aria-label={`Delete tax record for ${tax.month}`}\n                    >\n                      Delete\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        ) : (\n          <p className=\"text-gray-600\">No tax records found.</p>\n        )}\n      </section>\n\n      {/* Document Upload */}\n      <section className=\"bg-white rounded-lg shadow p-6\">\n        <h3 className=\"text-xl font-semibold border-b mb-4 pb-2 text-gray-800\">Upload Documents</h3>\n        <div className=\"flex flex-col sm:flex-row gap-4 items-center\">\n          <input\n            type=\"file\"\n            onChange={(e) => setFile(e.target.files[0])}\n            aria-label=\"Select document file\"\n            className=\"border border-gray-300 rounded px-3 py-2 w-full sm:w-auto\"\n          />\n          <button\n            onClick={handleUpload}\n            disabled={loading || !file}\n            className=\"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 focus:outline-none transition\"\n          >\n            Upload\n          </button>\n        </div>\n      </section>\n\n      {/* Uploaded Documents */}\n      <section className=\"bg-white rounded-lg shadow p-6\">\n        <h3 className=\"text-xl font-semibold border-b mb-4 pb-2 text-gray-800\">Uploaded Documents</h3>\n        {family.documents?.length ? (\n          <ul className=\"space-y-3\">\n            {family.documents.map(doc => (\n              <li\n                key={doc._id}\n                className=\"flex flex-col sm:flex-row justify-between items-center bg-gray-50 rounded px-3 py-2\"\n              >\n                <span className=\"truncate max-w-xs\">{doc.originalName || doc.filename}</span>\n                <span className=\"text-gray-500 text-xs\">{new Date(doc.uploadedAt).toLocaleString()}</span>\n                <div className=\"flex gap-4 mt-2 sm:mt-0\">\n                  <a\n                    href={`${API_BASE}${doc.path}`}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    download\n                    className=\"text-blue-600 hover:underline\"\n                    aria-label={`Download ${doc.originalName || doc.filename}`}\n                  >\n                    Download\n                  </a>\n                  <button\n                    onClick={() => handleDelete(doc._id)}\n                    disabled={loading}\n                    className=\"text-red-600 hover:underline focus:outline-none\"\n                    aria-label={`Delete ${doc.originalName || doc.filename}`}\n                  >\n                    Delete\n                  </button>\n                </div>\n              </li>\n            ))}\n          </ul>\n        ) : (\n          <p className=\"text-gray-600\">No documents uploaded yet.</p>\n        )}\n      </section>\n    </div>\n  );\n};\n\nexport default FamilyDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}