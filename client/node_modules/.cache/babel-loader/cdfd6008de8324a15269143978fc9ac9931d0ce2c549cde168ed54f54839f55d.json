{"ast":null,"code":"import React,{useEffect,useState}from\"react\";// Reusable label-value component\nimport{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";const InfoItem=_ref=>{let{label,value}=_ref;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"dt\",{className:\"font-semibold\",children:[label,\":\"]}),/*#__PURE__*/_jsx(\"dd\",{className:\"text-gray-700\",children:value||\"-\"})]});};const FamilyDashboard=()=>{var _family$members,_family$taxHistory,_family$documents;const[family,setFamily]=useState(null);const[file,setFile]=useState(null);const[msg,setMsg]=useState(\"\");const[loading,setLoading]=useState(false);const API_BASE=process.env.REACT_APP_API_URL||\"https://uk-portal-3.com\";const token=localStorage.getItem(\"familyToken\");// Fetch family profile on mount & token changes\nuseEffect(()=>{if(!token){setMsg(\"‚ö†Ô∏è No authentication token found. Please login.\");return;}const fetchProfile=async()=>{setLoading(true);try{const res=await fetchFamily();setFamily(res);setMsg(\"\");}catch(error){setMsg(\"‚ö†Ô∏è Failed to load data.\");}finally{setLoading(false);}};fetchProfile();},[token]);// Fetch family profile\nconst fetchFamily=async()=>{const res=await fetch(\"\".concat(API_BASE,\"/api/family/me\"),{headers:{Authorization:\"Bearer \".concat(token)}});if(!res.ok)throw new Error(\"Failed fetching family\");return res.json();};// Document upload handler\nconst handleUpload=async()=>{if(!file){setMsg(\"‚ö†Ô∏è Please select a file\");return;}setLoading(true);try{const formData=new FormData();formData.append(\"document\",file);const res=await fetch(\"\".concat(API_BASE,\"/api/family/upload\"),{method:\"POST\",headers:{Authorization:\"Bearer \".concat(token)},body:formData});if(!res.ok)throw new Error(\"Upload failed\");const json=await res.json();setFamily(json.family);setFile(null);setMsg(\"‚úÖ File uploaded successfully\");}catch(err){setMsg(err.message||\"‚ö†Ô∏è Upload failed\");}finally{setLoading(false);}};// Delete document handler\nconst handleDelete=async docId=>{if(!window.confirm(\"Are you sure you want to delete this document?\"))return;setLoading(true);try{const res=await fetch(\"\".concat(API_BASE,\"/api/family/document/\").concat(docId),{method:\"DELETE\",headers:{Authorization:\"Bearer \".concat(token)}});if(!res.ok)throw new Error(\"Delete failed\");const json=await res.json();setFamily(json.family);setMsg(\"‚úÖ Document deleted successfully\");}catch(err){setMsg(err.message||\"‚ö†Ô∏è Failed to delete document\");}finally{setLoading(false);}};// Toggle tax paid status handler\nconst toggleTaxPaidStatus=async(taxId,currentStatus)=>{if(!taxId)return;setLoading(true);try{const res=await fetch(\"\".concat(API_BASE,\"/api/family/tax\"),{method:\"POST\",headers:{Authorization:\"Bearer \".concat(token),\"Content-Type\":\"application/json\"},body:JSON.stringify({taxId,paid:!currentStatus})});if(!res.ok)throw new Error(\"Toggle failed\");const json=await res.json();const updatedProfile=await fetchFamily();setFamily(updatedProfile);setMsg(\"\\u2705 Tax marked as \".concat(!currentStatus?\"Paid\":\"Pending\"));}catch(err){setMsg(err.message||\"‚ö†Ô∏è Failed to update tax status\");}finally{setLoading(false);}};// Delete tax record handler\nconst handleDeleteTax=async taxId=>{if(!window.confirm(\"Are you sure you want to delete this tax record?\"))return;setLoading(true);try{const res=await fetch(\"\".concat(API_BASE,\"/api/family/tax/\").concat(taxId),{method:\"DELETE\",headers:{Authorization:\"Bearer \".concat(token)}});if(!res.ok)throw new Error(\"Delete failed\");const json=await res.json();setFamily(json.family);setMsg(\"‚úÖ Tax record deleted successfully\");}catch(err){setMsg(err.message||\"‚ö†Ô∏è Failed to delete tax record\");}finally{setLoading(false);}};if(!family){return/*#__PURE__*/_jsx(\"div\",{className:\"p-8 text-center animate-pulse text-gray-600 text-lg font-semibold\",children:\"\\u23F3 Loading family data...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 max-w-4xl mx-auto space-y-10 font-sans\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-center text-green-700 mb-8\",children:\"\\uD83C\\uDFE0 Family Dashboard\"}),loading&&/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-600 font-semibold text-center\",children:\"Processing...\"}),msg&&/*#__PURE__*/_jsx(\"p\",{className:\"text-yellow-700 font-medium text-center\",children:msg}),/*#__PURE__*/_jsxs(\"section\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold border-b border-gray-300 pb-2 mb-6 text-gray-800\",children:\"Family Information\"}),/*#__PURE__*/_jsxs(\"dl\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-4 text-gray-700 text-sm\",children:[/*#__PURE__*/_jsx(InfoItem,{label:\"Family ID\",value:family.familyId}),/*#__PURE__*/_jsx(InfoItem,{label:\"Leader\",value:family.leaderName}),/*#__PURE__*/_jsx(InfoItem,{label:\"Members\",value:(_family$members=family.members)===null||_family$members===void 0?void 0:_family$members.join(\", \")}),/*#__PURE__*/_jsx(InfoItem,{label:\"Address\",value:family.address}),/*#__PURE__*/_jsx(InfoItem,{label:\"Email\",value:family.email}),/*#__PURE__*/_jsx(InfoItem,{label:\"Phone\",value:family.phone})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"bg-white rounded-lg shadow p-6 overflow-auto max-h-80\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold border-b border-gray-300 pb-2 mb-6 text-gray-800\",children:\"Taxes\"}),(_family$taxHistory=family.taxHistory)!==null&&_family$taxHistory!==void 0&&_family$taxHistory.length?/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full border-collapse rounded-lg border border-gray-300 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-100 sticky top-0\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"p-3 border text-left\",children:\"Month\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-3 border text-right\",children:\"Amount (\\u20B9)\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-3 border text-center\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-3 border text-center\",children:\"Action\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-3 border text-center\",children:\"Delete\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:family.taxHistory.map(tax=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50 transition-colors\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"p-3 border\",children:tax.month}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3 border text-right\",children:tax.amount}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3 border text-center font-bold \".concat(tax.paid?\"text-green-600\":\"text-red-600\"),children:tax.paid?\"Paid\":\"Pending\"}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3 border text-center\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>toggleTaxPaidStatus(tax._id,tax.paid),className:\"px-4 py-1 rounded focus:outline-none transition \".concat(tax.paid?\"bg-yellow-500 hover:bg-yellow-600\":\"bg-green-600 hover:bg-green-700 text-white\"),disabled:loading,\"aria-label\":\"Mark tax for \".concat(tax.month,\" as \").concat(tax.paid?\"Pending\":\"Paid\"),children:[\"Mark as \",tax.paid?\"Pending\":\"Paid\"]})}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3 border text-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteTax(tax._id),className:\"bg-red-600 hover:bg-red-700 text-white px-4 py-1 rounded\",disabled:loading,\"aria-label\":\"Delete tax record for \".concat(tax.month),children:\"Delete\"})})]},tax._id))})]}):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"No tax records found.\"})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold border-b border-gray-300 pb-2 mb-6 text-gray-800\",children:\"Upload Document\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-4 items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:e=>setFile(e.target.files[0]),className:\"border border-gray-300 rounded px-3 py-2 w-full sm:w-auto\",\"aria-label\":\"Select document file\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUpload,disabled:loading||!file,className:\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded focus:outline-none\",children:\"Upload\"})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold border-b border-gray-300 pb-2 mb-6 text-gray-800\",children:\"Uploaded Documents\"}),(_family$documents=family.documents)!==null&&_family$documents!==void 0&&_family$documents.length?/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-3\",children:family.documents.map(doc=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex flex-col sm:flex-row justify-between items-center gap-2 sm:gap-4 bg-gray-50 rounded px-3 py-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"truncate max-w-xs\",children:doc.originalName||doc.filename}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500 text-xs\",children:new Date(doc.uploadedAt).toLocaleString()}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"\".concat(API_BASE).concat(doc.path),target:\"_blank\",rel:\"noopener noreferrer\",download:true,className:\"text-blue-600 hover:underline\",\"aria-label\":\"Download \".concat(doc.originalName||doc.filename),children:\"Download\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(doc._id),disabled:loading,className:\"text-red-600 hover:underline focus:outline-none\",\"aria-label\":\"Delete \".concat(doc.originalName||doc.filename),children:\"Delete\"})]})]},doc._id))}):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"No documents uploaded.\"})]})]});};export default FamilyDashboard;","map":{"version":3,"names":["React","useEffect","useState","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","InfoItem","_ref","label","value","children","className","FamilyDashboard","_family$members","_family$taxHistory","_family$documents","family","setFamily","file","setFile","msg","setMsg","loading","setLoading","API_BASE","process","env","REACT_APP_API_URL","token","localStorage","getItem","fetchProfile","res","fetchFamily","error","fetch","concat","headers","Authorization","ok","Error","json","handleUpload","formData","FormData","append","method","body","err","message","handleDelete","docId","window","confirm","toggleTaxPaidStatus","taxId","currentStatus","JSON","stringify","paid","updatedProfile","handleDeleteTax","familyId","leaderName","members","join","address","email","phone","taxHistory","length","map","tax","month","amount","onClick","_id","disabled","type","onChange","e","target","files","documents","doc","originalName","filename","Date","uploadedAt","toLocaleString","href","path","rel","download"],"sources":["C:/Users/murug/OneDrive/Desktop/uk-portal/client/src/pages/FamilyDashboard.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\n// Reusable label-value component\nconst InfoItem = ({ label, value }) => (\n  <>\n    <dt className=\"font-semibold\">{label}:</dt>\n    <dd className=\"text-gray-700\">{value || \"-\"}</dd>\n  </>\n);\n\nconst FamilyDashboard = () => {\n  const [family, setFamily] = useState(null);\n  const [file, setFile] = useState(null);\n  const [msg, setMsg] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const API_BASE = process.env.REACT_APP_API_URL || \"https://uk-portal-3.com\";\n  const token = localStorage.getItem(\"familyToken\");\n\n  // Fetch family profile on mount & token changes\n  useEffect(() => {\n    if (!token) {\n      setMsg(\"‚ö†Ô∏è No authentication token found. Please login.\");\n      return;\n    }\n    const fetchProfile = async () => {\n      setLoading(true);\n      try {\n        const res = await fetchFamily();\n        setFamily(res);\n        setMsg(\"\");\n      } catch (error) {\n        setMsg(\"‚ö†Ô∏è Failed to load data.\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchProfile();\n  }, [token]);\n\n  // Fetch family profile\n  const fetchFamily = async () => {\n    const res = await fetch(`${API_BASE}/api/family/me`, {\n      headers: { Authorization: `Bearer ${token}` }\n    });\n    if (!res.ok) throw new Error(\"Failed fetching family\");\n    return res.json();\n  };\n\n  // Document upload handler\n  const handleUpload = async () => {\n    if (!file) {\n      setMsg(\"‚ö†Ô∏è Please select a file\");\n      return;\n    }\n    setLoading(true);\n    try {\n      const formData = new FormData();\n      formData.append(\"document\", file);\n      const res = await fetch(`${API_BASE}/api/family/upload`, {\n        method: \"POST\",\n        headers: { Authorization: `Bearer ${token}` },\n        body: formData\n      });\n      if (!res.ok) throw new Error(\"Upload failed\");\n      const json = await res.json();\n      setFamily(json.family);\n      setFile(null);\n      setMsg(\"‚úÖ File uploaded successfully\");\n    } catch (err) {\n      setMsg(err.message || \"‚ö†Ô∏è Upload failed\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Delete document handler\n  const handleDelete = async (docId) => {\n    if (!window.confirm(\"Are you sure you want to delete this document?\")) return;\n    setLoading(true);\n    try {\n      const res = await fetch(`${API_BASE}/api/family/document/${docId}`, {\n        method: \"DELETE\",\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      if (!res.ok) throw new Error(\"Delete failed\");\n      const json = await res.json();\n      setFamily(json.family);\n      setMsg(\"‚úÖ Document deleted successfully\");\n    } catch (err) {\n      setMsg(err.message || \"‚ö†Ô∏è Failed to delete document\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Toggle tax paid status handler\n  const toggleTaxPaidStatus = async (taxId, currentStatus) => {\n    if (!taxId) return;\n    setLoading(true);\n    try {\n      const res = await fetch(`${API_BASE}/api/family/tax`, {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          taxId,\n          paid: !currentStatus,\n        }),\n      });\n      if (!res.ok) throw new Error(\"Toggle failed\");\n      const json = await res.json();\n      const updatedProfile = await fetchFamily();\n      setFamily(updatedProfile);\n      setMsg(`‚úÖ Tax marked as ${!currentStatus ? \"Paid\" : \"Pending\"}`);\n    } catch (err) {\n      setMsg(err.message || \"‚ö†Ô∏è Failed to update tax status\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Delete tax record handler\n  const handleDeleteTax = async (taxId) => {\n    if (!window.confirm(\"Are you sure you want to delete this tax record?\")) return;\n    setLoading(true);\n    try {\n      const res = await fetch(`${API_BASE}/api/family/tax/${taxId}`, {\n        method: \"DELETE\",\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      if (!res.ok) throw new Error(\"Delete failed\");\n      const json = await res.json();\n      setFamily(json.family);\n      setMsg(\"‚úÖ Tax record deleted successfully\");\n    } catch (err) {\n      setMsg(err.message || \"‚ö†Ô∏è Failed to delete tax record\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (!family) {\n    return (\n      <div className=\"p-8 text-center animate-pulse text-gray-600 text-lg font-semibold\">\n        ‚è≥ Loading family data...\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6 max-w-4xl mx-auto space-y-10 font-sans\">\n      <h1 className=\"text-3xl font-bold text-center text-green-700 mb-8\">üè† Family Dashboard</h1>\n      {loading && <p className=\"text-blue-600 font-semibold text-center\">Processing...</p>}\n      {msg && <p className=\"text-yellow-700 font-medium text-center\">{msg}</p>}\n\n      {/* Family Information */}\n      <section className=\"bg-white rounded-lg shadow p-6\">\n        <h2 className=\"text-xl font-semibold border-b border-gray-300 pb-2 mb-6 text-gray-800\">Family Information</h2>\n        <dl className=\"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-4 text-gray-700 text-sm\">\n          <InfoItem label=\"Family ID\" value={family.familyId} />\n          <InfoItem label=\"Leader\" value={family.leaderName} />\n          <InfoItem label=\"Members\" value={family.members?.join(\", \")} />\n          <InfoItem label=\"Address\" value={family.address} />\n          <InfoItem label=\"Email\" value={family.email} />\n          <InfoItem label=\"Phone\" value={family.phone} />\n        </dl>\n      </section>\n\n      {/* Tax Information */}\n      <section className=\"bg-white rounded-lg shadow p-6 overflow-auto max-h-80\">\n        <h2 className=\"text-xl font-semibold border-b border-gray-300 pb-2 mb-6 text-gray-800\">Taxes</h2>\n        {family.taxHistory?.length ? (\n          <table className=\"min-w-full border-collapse rounded-lg border border-gray-300 overflow-hidden\">\n            <thead className=\"bg-gray-100 sticky top-0\">\n              <tr>\n                <th className=\"p-3 border text-left\">Month</th>\n                <th className=\"p-3 border text-right\">Amount (‚Çπ)</th>\n                <th className=\"p-3 border text-center\">Status</th>\n                <th className=\"p-3 border text-center\">Action</th>\n                <th className=\"p-3 border text-center\">Delete</th>\n              </tr>\n            </thead>\n            <tbody>\n              {family.taxHistory.map((tax) => (\n                <tr key={tax._id} className=\"hover:bg-gray-50 transition-colors\">\n                  <td className=\"p-3 border\">{tax.month}</td>\n                  <td className=\"p-3 border text-right\">{tax.amount}</td>\n                  <td className={`p-3 border text-center font-bold ${tax.paid ? \"text-green-600\" : \"text-red-600\"}`}>\n                    {tax.paid ? \"Paid\" : \"Pending\"}\n                  </td>\n                  <td className=\"p-3 border text-center\">\n                    <button\n                      onClick={() => toggleTaxPaidStatus(tax._id, tax.paid)}\n                      className={`px-4 py-1 rounded focus:outline-none transition ${\n                        tax.paid ? \"bg-yellow-500 hover:bg-yellow-600\" : \"bg-green-600 hover:bg-green-700 text-white\"\n                      }`}\n                      disabled={loading}\n                      aria-label={`Mark tax for ${tax.month} as ${tax.paid ? \"Pending\" : \"Paid\"}`}\n                    >\n                      Mark as {tax.paid ? \"Pending\" : \"Paid\"}\n                    </button>\n                  </td>\n                  <td className=\"p-3 border text-center\">\n                    <button\n                      onClick={() => handleDeleteTax(tax._id)}\n                      className=\"bg-red-600 hover:bg-red-700 text-white px-4 py-1 rounded\"\n                      disabled={loading}\n                      aria-label={`Delete tax record for ${tax.month}`}\n                    >\n                      Delete\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        ) : (\n          <p className=\"text-gray-600\">No tax records found.</p>\n        )}\n      </section>\n\n      {/* Document upload */}\n      <section className=\"bg-white rounded-lg shadow p-6\">\n        <h2 className=\"text-xl font-semibold border-b border-gray-300 pb-2 mb-6 text-gray-800\">Upload Document</h2>\n        <div className=\"flex flex-col sm:flex-row gap-4 items-center\">\n          <input\n            type=\"file\"\n            onChange={e => setFile(e.target.files[0])}\n            className=\"border border-gray-300 rounded px-3 py-2 w-full sm:w-auto\"\n            aria-label=\"Select document file\"\n          />\n          <button\n            onClick={handleUpload}\n            disabled={loading || !file}\n            className=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded focus:outline-none\"\n          >\n            Upload\n          </button>\n        </div>\n      </section>\n\n      {/* Uploaded documents */}\n      <section className=\"bg-white rounded-lg shadow p-6\">\n        <h2 className=\"text-xl font-semibold border-b border-gray-300 pb-2 mb-6 text-gray-800\">Uploaded Documents</h2>\n        {family.documents?.length ? (\n          <ul className=\"space-y-3\">\n            {family.documents.map(doc => (\n              <li\n                key={doc._id}\n                className=\"flex flex-col sm:flex-row justify-between items-center gap-2 sm:gap-4 bg-gray-50 rounded px-3 py-2\"\n              >\n                <span className=\"truncate max-w-xs\">{doc.originalName || doc.filename}</span>\n                <span className=\"text-gray-500 text-xs\">{new Date(doc.uploadedAt).toLocaleString()}</span>\n                <div className=\"flex gap-4\">\n                  <a\n                    href={`${API_BASE}${doc.path}`}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    download\n                    className=\"text-blue-600 hover:underline\"\n                    aria-label={`Download ${doc.originalName || doc.filename}`}\n                  >\n                    Download\n                  </a>\n                  <button\n                    onClick={() => handleDelete(doc._id)}\n                    disabled={loading}\n                    className=\"text-red-600 hover:underline focus:outline-none\"\n                    aria-label={`Delete ${doc.originalName || doc.filename}`}\n                  >\n                    Delete\n                  </button>\n                </div>\n              </li>\n            ))}\n          </ul>\n        ) : (\n          <p className=\"text-gray-600\">No documents uploaded.</p>\n        )}\n      </section>\n    </div>\n  );\n};\n\nexport default FamilyDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}