{"ast":null,"code":"import _objectSpread from\"C:/Users/murug/OneDrive/Desktop/uk-portal/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useMemo,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminDashboard=()=>{const API_BASE=process.env.REACT_APP_API_URL||\"http://localhost:5000\";const token=localStorage.getItem(\"adminToken\");const headers={Authorization:\"Bearer \".concat(token)};// Core states\nconst[families,setFamilies]=useState([]);const[events,setEvents]=useState([]);const[workers,setWorkers]=useState([]);const[historyItems,setHistoryItems]=useState([]);const[gallery,setGallery]=useState([]);// UI states\nconst[loading,setLoading]=useState(false);const[errorMsg,setErrorMsg]=useState(\"\");// Form states\nconst[newFamily,setNewFamily]=useState({familyId:\"\",leaderName:\"\",email:\"\",password:\"\",members:\"\",phone:\"\",address:\"\"});const[newEvent,setNewEvent]=useState({title:\"\",date:\"\"});const[newWorker,setNewWorker]=useState({type:\"\",description:\"\"});const[newHistory,setNewHistory]=useState({contentEN:\"\",contentTA:\"\"});const[galleryFile,setGalleryFile]=useState(null);const[galleryMeta,setGalleryMeta]=useState({title:\"\",description:\"\"});// Tax states\nconst[selectedFamilies,setSelectedFamilies]=useState([]);const[selectAll,setSelectAll]=useState(false);const[taxMonth,setTaxMonth]=useState(()=>{const d=new Date();return\"\".concat(d.getFullYear(),\"-\").concat(String(d.getMonth()+1).padStart(2,\"0\"));});const[taxAmount,setTaxAmount]=useState(\"\");const[taxPaid,setTaxPaid]=useState(false);// Search\nconst[searchFamily,setSearchFamily]=useState(\"\");// Load all data\nconst loadAll=async()=>{if(!token){setErrorMsg(\"Please log in to access the dashboard.\");return;}try{setLoading(true);const[fRes,eRes,wRes,hRes,gRes]=await Promise.all([axios.get(\"\".concat(API_BASE,\"/api/admin/families\"),{headers}),axios.get(\"\".concat(API_BASE,\"/api/admin/events\"),{headers}),axios.get(\"\".concat(API_BASE,\"/api/admin/workers\"),{headers}),axios.get(\"\".concat(API_BASE,\"/api/admin/history\"),{headers}),axios.get(\"\".concat(API_BASE,\"/api/admin/gallery\"),{headers})]);setFamilies(fRes.data||[]);setEvents(eRes.data||[]);setWorkers(wRes.data||[]);setHistoryItems(hRes.data||[]);setGallery(gRes.data||[]);setErrorMsg(\"\");}catch(_unused){setErrorMsg(\"Failed to load data. Please try again later.\");}finally{setLoading(false);}};useEffect(()=>{loadAll();},[]);// Action Handlers \nconst createFamily=async()=>{if(!newFamily.familyId||!newFamily.password||!newFamily.email||!newFamily.leaderName){alert(\"Please fill required family details.\");return;}try{setLoading(true);await axios.post(\"\".concat(API_BASE,\"/api/admin/families\"),{familyId:newFamily.familyId,leaderName:newFamily.leaderName,email:newFamily.email,password:newFamily.password,members:newFamily.members?newFamily.members.split(\",\").map(m=>m.trim()):[],phone:newFamily.phone,address:newFamily.address},{headers});setNewFamily({familyId:\"\",leaderName:\"\",email:\"\",password:\"\",members:\"\",phone:\"\",address:\"\"});await loadAll();}catch(_unused2){alert(\"Failed to create family.\");}finally{setLoading(false);}};const approveFamily=async(id,approve)=>{try{const confirmAction=window.confirm(\"Are you sure you want to \".concat(approve?\"approve\":\"reject\",\" this family?\"));if(!confirmAction)return;setLoading(true);await axios.post(\"\".concat(API_BASE,\"/api/admin/\").concat(approve?\"families/approve\":\"families/reject\"),{id},{headers});await loadAll();}catch(_unused3){alert(\"Failed to update family status.\");}finally{setLoading(false);}};const toggleFamilySelection=id=>{setSelectedFamilies(prev=>prev.includes(id)?prev.filter(x=>x!==id):[...prev,id]);};const toggleSelectAll=()=>{if(selectAll){setSelectedFamilies([]);setSelectAll(false);}else{setSelectedFamilies(families.map(f=>f._id));setSelectAll(true);}};const addTaxBulk=async()=>{if(!taxMonth||!taxAmount||!selectedFamilies.length){alert(\"Please fill all tax details and select families.\");return;}try{setLoading(true);await axios.post(\"\".concat(API_BASE,\"/api/admin/families/tax\"),{familyIds:selectedFamilies,month:taxMonth,amount:taxAmount,paid:taxPaid},{headers});setSelectedFamilies([]);setSelectAll(false);setTaxAmount(\"\");setTaxPaid(false);await loadAll();}catch(_unused4){alert(\"Failed to add tax.\");}finally{setLoading(false);}};const markTaxPaid=async(familyId,month)=>{try{setLoading(true);await axios.patch(\"\".concat(API_BASE,\"/api/admin/families/\").concat(familyId,\"/tax\"),{month,paid:true},{headers});await loadAll();}catch(_unused5){alert(\"Failed to update tax status.\");}finally{setLoading(false);}};const addEvent=async()=>{if(!newEvent.title||!newEvent.date)return alert(\"Please fill in event title and date.\");try{setLoading(true);await axios.post(\"\".concat(API_BASE,\"/api/admin/events\"),newEvent,{headers});setNewEvent({title:\"\",date:\"\"});await loadAll();}catch(_unused6){alert(\"Failed to add event.\");}finally{setLoading(false);}};const deleteEvent=async id=>{if(!window.confirm(\"Are you sure to delete this event?\"))return;try{setLoading(true);await axios.delete(\"\".concat(API_BASE,\"/api/admin/events/\").concat(id),{headers});await loadAll();}catch(_unused7){alert(\"Failed to delete event.\");}finally{setLoading(false);}};const addWorker=async()=>{if(!newWorker.type)return alert(\"Please provide worker type.\");try{setLoading(true);await axios.post(\"\".concat(API_BASE,\"/api/admin/workers\"),newWorker,{headers});setNewWorker({type:\"\",description:\"\"});await loadAll();}catch(_unused8){alert(\"Failed to add worker.\");}finally{setLoading(false);}};const deleteWorker=async id=>{if(!window.confirm(\"Are you sure to delete this worker?\"))return;try{setLoading(true);await axios.delete(\"\".concat(API_BASE,\"/api/admin/workers/\").concat(id),{headers});await loadAll();}catch(_unused9){alert(\"Failed to delete worker.\");}finally{setLoading(false);}};const addHistory=async()=>{if(!newHistory.contentEN&&!newHistory.contentTA){alert(\"Please enter history content in at least one language.\");return;}try{setLoading(true);await axios.post(\"\".concat(API_BASE,\"/api/admin/history\"),{content:{en:newHistory.contentEN,ta:newHistory.contentTA}},{headers});setNewHistory({contentEN:\"\",contentTA:\"\"});await loadAll();}catch(_unused0){alert(\"Failed to add history.\");}finally{setLoading(false);}};const deleteHistory=async id=>{if(!window.confirm(\"Are you sure to delete this history entry?\"))return;try{setLoading(true);await axios.delete(\"\".concat(API_BASE,\"/api/admin/history/\").concat(id),{headers});await loadAll();}catch(_unused1){alert(\"Failed to delete history.\");}finally{setLoading(false);}};const uploadGallery=async()=>{if(!galleryFile){alert(\"Please select a file to upload.\");return;}try{setLoading(true);const fd=new FormData();fd.append(\"image\",galleryFile);fd.append(\"title\",galleryMeta.title||\"Untitled\");fd.append(\"description\",galleryMeta.description||\"\");await axios.post(\"\".concat(API_BASE,\"/api/admin/gallery\"),fd,{headers:_objectSpread(_objectSpread({},headers),{},{\"Content-Type\":\"multipart/form-data\"})});setGalleryFile(null);setGalleryMeta({title:\"\",description:\"\"});await loadAll();}catch(_unused10){alert(\"Failed to upload gallery item.\");}finally{setLoading(false);}};const deleteGallery=async id=>{if(!window.confirm(\"Are you sure to delete this gallery item?\"))return;try{setLoading(true);await axios.delete(\"\".concat(API_BASE,\"/api/admin/gallery/\").concat(id),{headers});await loadAll();}catch(_unused11){alert(\"Failed to delete gallery.\");}finally{setLoading(false);}};const filteredFamilies=useMemo(()=>{if(!searchFamily.trim())return families;const lower=searchFamily.toLowerCase();return families.filter(f=>{var _f$email;return(f.familyId+\" \"+f.leaderName+\" \"+((_f$email=f.email)!==null&&_f$email!==void 0?_f$email:\"\")).toLowerCase().includes(lower);});},[families,searchFamily]);const paidFamilies=useMemo(()=>families.filter(f=>{var _f$taxHistory;return(_f$taxHistory=f.taxHistory)===null||_f$taxHistory===void 0?void 0:_f$taxHistory.some(t=>t.month===taxMonth&&t.paid);}),[families,taxMonth]);const unpaidFamilies=useMemo(()=>families.filter(f=>{var _f$taxHistory2;return!((_f$taxHistory2=f.taxHistory)!==null&&_f$taxHistory2!==void 0&&_f$taxHistory2.some(t=>t.month===taxMonth&&t.paid));}),[families,taxMonth]);const totalPaid=useMemo(()=>paidFamilies.reduce((acc,f)=>{var _f$taxHistory$find;return acc+(Number((_f$taxHistory$find=f.taxHistory.find(t=>t.month===taxMonth&&t.paid))===null||_f$taxHistory$find===void 0?void 0:_f$taxHistory$find.amount)||0);},0),[paidFamilies,taxMonth]);return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto p-6 space-y-16\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center text-4xl font-bold mb-10\",children:\"Admin Dashboard\"}),errorMsg&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-red-600\",children:errorMsg}),loading&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-blue-600\",children:\"Loading...\"}),/*#__PURE__*/_jsxs(\"section\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2 flex flex-col bg-white rounded shadow p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"search\",placeholder:\"Search families...\",value:searchFamily,onChange:e=>setSearchFamily(e.target.value),className:\"w-full sm:w-64 p-2 border rounded\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3 mt-2 sm:mt-0\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:loadAll,className:\"btn-secondary\",children:\"Refresh\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(window.confirm('Send notifications to all families?'))alert('Notifications queued');},className:\"btn-yellow\",children:\"Notify All\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-auto max-h-96 rounded border\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full border-collapse text-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"sticky top-0 bg-gray-100 font-semibold\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"w-12 text-center\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectAll,onChange:()=>{if(selectAll)setSelectedFamilies([]);else setSelectedFamilies(families.map(f=>f._id));setSelectAll(!selectAll);}})}),/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Leader\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"Approved\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Latest Tax\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"Actions\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[filteredFamilies.length===0&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:6,className:\"text-center p-4\",children:\"No families found.\"})}),filteredFamilies.map(f=>{var _f$taxHistory3;const lastTax=(_f$taxHistory3=f.taxHistory)===null||_f$taxHistory3===void 0?void 0:_f$taxHistory3.slice(-1)[0];return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedFamilies.includes(f._id),onChange:()=>setSelectedFamilies(prev=>prev.includes(f._id)?prev.filter(id=>id!==f._id):[...prev,f._id])})}),/*#__PURE__*/_jsx(\"td\",{children:f.familyId}),/*#__PURE__*/_jsx(\"td\",{children:f.leaderName}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:f.approved?\"Yes\":\"No\"}),/*#__PURE__*/_jsx(\"td\",{children:lastTax?\"\".concat(lastTax.month,\": \\u20B9\").concat(lastTax.amount,\" (\").concat(lastTax.paid?\"Paid\":\"Pending\",\")\"):\"-\"}),/*#__PURE__*/_jsxs(\"td\",{className:\"text-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>approveFamily(f._id,true),disabled:loading,className:\"btn-green btn-xs\",children:\"Approve\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>approveFamily(f._id,false),disabled:loading,className:\"btn-red btn-xs\",children:\"Reject\"})]})]},f._id);})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded shadow p-6 sticky top-0\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold mb-6\",children:\"Add New Family\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input mb-2\",placeholder:\"Family ID\",value:newFamily.familyId,onChange:e=>setNewFamily(_objectSpread(_objectSpread({},newFamily),{},{familyId:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{className:\"input mb-2\",placeholder:\"Leader Name\",value:newFamily.leaderName,onChange:e=>setNewFamily(_objectSpread(_objectSpread({},newFamily),{},{leaderName:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{className:\"input mb-2\",placeholder:\"Email\",type:\"email\",value:newFamily.email,onChange:e=>setNewFamily(_objectSpread(_objectSpread({},newFamily),{},{email:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{className:\"input mb-2\",placeholder:\"Password\",type:\"password\",value:newFamily.password,onChange:e=>setNewFamily(_objectSpread(_objectSpread({},newFamily),{},{password:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{className:\"input mb-2\",placeholder:\"Members (comma-separated)\",value:newFamily.members,onChange:e=>setNewFamily(_objectSpread(_objectSpread({},newFamily),{},{members:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{className:\"input mb-2\",placeholder:\"Phone\",value:newFamily.phone,onChange:e=>setNewFamily(_objectSpread(_objectSpread({},newFamily),{},{phone:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{className:\"input mb-2\",placeholder:\"Address\",value:newFamily.address,onChange:e=>setNewFamily(_objectSpread(_objectSpread({},newFamily),{},{address:e.target.value}))}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-blue w-full\",onClick:createFamily,disabled:loading,children:\"Create Family\"})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12\",children:[/*#__PURE__*/_jsxs(\"article\",{className:\"bg-white rounded shadow p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Add Bulk Tax\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectAll,onChange:()=>{if(selectAll)setSelectedFamilies([]);else setSelectedFamilies(families.map(f=>f._id));setSelectAll(!selectAll);}}),\"Select All Families\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"month\",className:\"input\",value:taxMonth,onChange:e=>setTaxMonth(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"input\",placeholder:\"Amount\",value:taxAmount,onChange:e=>setTaxAmount(e.target.value)}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:taxPaid,onChange:e=>setTaxPaid(e.target.checked)}),\"Mark As Paid\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-green w-full\",onClick:addTaxBulk,disabled:loading,children:\"Add Tax\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-center font-bold mt-4\",children:[\"Total Paid: \\u20B9\",totalPaid]})]})]}),/*#__PURE__*/_jsxs(\"article\",{className:\"bg-white rounded shadow p-6 max-h-[400px] overflow-auto\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Paid Families\"}),!paidFamilies.length&&/*#__PURE__*/_jsx(\"p\",{children:\"No paid families.\"}),paidFamilies.map(f=>{var _f$taxHistory$find2;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-100 rounded p-2 mb-2 flex justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[f.familyId,\" \\u2014 \",f.leaderName]}),/*#__PURE__*/_jsxs(\"strong\",{children:[\"\\u20B9\",((_f$taxHistory$find2=f.taxHistory.find(t=>t.month===taxMonth&&t.paid))===null||_f$taxHistory$find2===void 0?void 0:_f$taxHistory$find2.amount)||0]})]},f._id);})]}),/*#__PURE__*/_jsxs(\"article\",{className:\"bg-white rounded shadow p-6 max-h-[400px] overflow-auto\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Pending Families\"}),!unpaidFamilies.length&&/*#__PURE__*/_jsx(\"p\",{children:\"No pending families.\"}),unpaidFamilies.map(f=>{var _f$taxHistory$find3;const amount=((_f$taxHistory$find3=f.taxHistory.find(t=>t.month===taxMonth))===null||_f$taxHistory$find3===void 0?void 0:_f$taxHistory$find3.amount)||taxAmount||\"-\";return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-100 rounded p-2 mb-2 flex justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[f.familyId,\" \\u2014 \",f.leaderName,\" \\u2022 \\u20B9\",amount]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-blue\",onClick:()=>markTaxPaid(f._id,taxMonth),disabled:loading,children:\"Mark Paid\"})]},f._id);})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12\",children:[/*#__PURE__*/_jsxs(\"article\",{className:\"bg-white rounded shadow p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Events\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"overflow-auto max-h-64 divide-y divide-gray-200\",children:[!events.length&&/*#__PURE__*/_jsx(\"p\",{children:\"No events found.\"}),events.map(ev=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex justify-between py-2\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[ev.title,\" (\",new Date(ev.date).toLocaleDateString(),\")\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-red btn-xs\",onClick:()=>deleteEvent(ev._id),children:\"Delete\"})]},ev._id))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-3 gap-2 mt-4\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input\",placeholder:\"Title\",value:newEvent.title,onChange:e=>setNewEvent(_objectSpread(_objectSpread({},newEvent),{},{title:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"date\",value:newEvent.date,onChange:e=>setNewEvent(_objectSpread(_objectSpread({},newEvent),{},{date:e.target.value}))}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-green\",onClick:addEvent,children:\"Add Event\"})]})]}),/*#__PURE__*/_jsxs(\"article\",{className:\"bg-white rounded shadow p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Workers\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"overflow-auto max-h-64 divide-y divide-gray-200\",children:[!workers.length&&/*#__PURE__*/_jsx(\"p\",{children:\"No workers found.\"}),workers.map(w=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex justify-between py-2\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[w.type,\" \\u2014 \",w.description]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-red btn-xs\",onClick:()=>deleteWorker(w._id),children:\"Delete\"})]},w._id))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid gap-2 mt-4\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input\",placeholder:\"Type\",value:newWorker.type,onChange:e=>setNewWorker(_objectSpread(_objectSpread({},newWorker),{},{type:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",placeholder:\"Description\",value:newWorker.description,onChange:e=>setNewWorker(_objectSpread(_objectSpread({},newWorker),{},{description:e.target.value}))}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-green\",onClick:addWorker,children:\"Add Worker\"})]})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"article\",{className:\"bg-white rounded shadow p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"History\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"overflow-auto max-h-64 divide-y divide-gray-200\",children:[!historyItems.length&&/*#__PURE__*/_jsx(\"p\",{children:\"No history records.\"}),historyItems.map(item=>{var _item$content,_item$content2;return/*#__PURE__*/_jsxs(\"li\",{className:\"flex justify-between py-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:((_item$content=item.content)===null||_item$content===void 0?void 0:_item$content.en)||((_item$content2=item.content)===null||_item$content2===void 0?void 0:_item$content2.ta)}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-red btn-xs\",onClick:()=>deleteHistory(item._id),children:\"Delete\"})]},item._id);})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-3 gap-2 mt-4\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input\",placeholder:\"Content English\",value:newHistory.contentEN,onChange:e=>setNewHistory(_objectSpread(_objectSpread({},newHistory),{},{contentEN:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",placeholder:\"Content Other\",value:newHistory.contentTA,onChange:e=>setNewHistory(_objectSpread(_objectSpread({},newHistory),{},{contentTA:e.target.value}))}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-green\",onClick:addHistory,children:\"Add History\"})]})]}),/*#__PURE__*/_jsxs(\"article\",{className:\"bg-white rounded shadow p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Gallery\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-3 gap-4\",children:[!gallery.length&&/*#__PURE__*/_jsx(\"p\",{children:\"No gallery items.\"}),gallery.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded p-4 flex flex-col\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"\".concat(API_BASE).concat(item.url),target:\"_blank\",rel:\"noreferrer\",className:\"mb-2 truncate text-blue-600 hover:underline\",children:item.title||\"Untitled\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mb-4 truncate\",children:item.description||\"\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-red btn-xs mt-auto\",onClick:()=>deleteGallery(item._id),children:\"Delete\"})]},item._id))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-3 gap-3 mt-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:e=>setGalleryFile(e.target.files[0])}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",placeholder:\"Title\",value:galleryMeta.title,onChange:e=>setGalleryMeta(_objectSpread(_objectSpread({},galleryMeta),{},{title:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",placeholder:\"Description\",value:galleryMeta.description,onChange:e=>setGalleryMeta(_objectSpread(_objectSpread({},galleryMeta),{},{description:e.target.value}))}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-green\",onClick:uploadGallery,disabled:!galleryFile,children:\"Upload\"})]})]})]})]});};export default AdminDashboard;","map":{"version":3,"names":["React","useEffect","useMemo","useState","axios","jsx","_jsx","jsxs","_jsxs","AdminDashboard","API_BASE","process","env","REACT_APP_API_URL","token","localStorage","getItem","headers","Authorization","concat","families","setFamilies","events","setEvents","workers","setWorkers","historyItems","setHistoryItems","gallery","setGallery","loading","setLoading","errorMsg","setErrorMsg","newFamily","setNewFamily","familyId","leaderName","email","password","members","phone","address","newEvent","setNewEvent","title","date","newWorker","setNewWorker","type","description","newHistory","setNewHistory","contentEN","contentTA","galleryFile","setGalleryFile","galleryMeta","setGalleryMeta","selectedFamilies","setSelectedFamilies","selectAll","setSelectAll","taxMonth","setTaxMonth","d","Date","getFullYear","String","getMonth","padStart","taxAmount","setTaxAmount","taxPaid","setTaxPaid","searchFamily","setSearchFamily","loadAll","fRes","eRes","wRes","hRes","gRes","Promise","all","get","data","_unused","createFamily","alert","post","split","map","m","trim","_unused2","approveFamily","id","approve","confirmAction","window","confirm","_unused3","toggleFamilySelection","prev","includes","filter","x","toggleSelectAll","f","_id","addTaxBulk","length","familyIds","month","amount","paid","_unused4","markTaxPaid","patch","_unused5","addEvent","_unused6","deleteEvent","delete","_unused7","addWorker","_unused8","deleteWorker","_unused9","addHistory","content","en","ta","_unused0","deleteHistory","_unused1","uploadGallery","fd","FormData","append","_objectSpread","_unused10","deleteGallery","_unused11","filteredFamilies","lower","toLowerCase","_f$email","paidFamilies","_f$taxHistory","taxHistory","some","t","unpaidFamilies","_f$taxHistory2","totalPaid","reduce","acc","_f$taxHistory$find","Number","find","className","children","placeholder","value","onChange","e","target","onClick","checked","colSpan","_f$taxHistory3","lastTax","slice","approved","disabled","_f$taxHistory$find2","_f$taxHistory$find3","ev","toLocaleDateString","w","item","_item$content","_item$content2","href","url","rel","files"],"sources":["C:/Users/murug/OneDrive/Desktop/uk-portal/client/src/pages/AdminDashboard.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from \"react\";\nimport axios from \"axios\";\n\nconst AdminDashboard = () => {\n  const API_BASE = process.env.REACT_APP_API_URL || \"http://localhost:5000\";\n  const token = localStorage.getItem(\"adminToken\");\n  const headers = { Authorization: `Bearer ${token}` };\n\n  // Core states\n  const [families, setFamilies] = useState([]);\n  const [events, setEvents] = useState([]);\n  const [workers, setWorkers] = useState([]);\n  const [historyItems, setHistoryItems] = useState([]);\n  const [gallery, setGallery] = useState([]);\n\n  // UI states\n  const [loading, setLoading] = useState(false);\n  const [errorMsg, setErrorMsg] = useState(\"\");\n\n  // Form states\n  const [newFamily, setNewFamily] = useState({\n    familyId: \"\", leaderName: \"\", email: \"\",\n    password: \"\", members: \"\", phone: \"\", address: \"\"\n  });\n  const [newEvent, setNewEvent] = useState({ title: \"\", date: \"\" });\n  const [newWorker, setNewWorker] = useState({ type: \"\", description: \"\" });\n  const [newHistory, setNewHistory] = useState({ contentEN: \"\", contentTA: \"\" });\n  const [galleryFile, setGalleryFile] = useState(null);\n  const [galleryMeta, setGalleryMeta] = useState({ title: \"\", description: \"\" });\n\n  // Tax states\n  const [selectedFamilies, setSelectedFamilies] = useState([]);\n  const [selectAll, setSelectAll] = useState(false);\n  const [taxMonth, setTaxMonth] = useState(() => {\n    const d = new Date();\n    return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, \"0\")}`;\n  });\n  const [taxAmount, setTaxAmount] = useState(\"\");\n  const [taxPaid, setTaxPaid] = useState(false);\n\n  // Search\n  const [searchFamily, setSearchFamily] = useState(\"\");\n\n  // Load all data\n  const loadAll = async () => {\n    if (!token) {\n      setErrorMsg(\"Please log in to access the dashboard.\");\n      return;\n    }\n    try {\n      setLoading(true);\n      const [fRes, eRes, wRes, hRes, gRes] = await Promise.all([\n        axios.get(`${API_BASE}/api/admin/families`, { headers }),\n        axios.get(`${API_BASE}/api/admin/events`, { headers }),\n        axios.get(`${API_BASE}/api/admin/workers`, { headers }),\n        axios.get(`${API_BASE}/api/admin/history`, { headers }),\n        axios.get(`${API_BASE}/api/admin/gallery`, { headers }),\n      ]);\n      setFamilies(fRes.data || []);\n      setEvents(eRes.data || []);\n      setWorkers(wRes.data || []);\n      setHistoryItems(hRes.data || []);\n      setGallery(gRes.data || []);\n      setErrorMsg(\"\");\n    } catch {\n      setErrorMsg(\"Failed to load data. Please try again later.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    loadAll();\n  }, []);\n\n  // Action Handlers \n  const createFamily = async () => {\n    if (!newFamily.familyId || !newFamily.password || !newFamily.email || !newFamily.leaderName) {\n      alert(\"Please fill required family details.\");\n      return;\n    }\n    try {\n      setLoading(true);\n      await axios.post(`${API_BASE}/api/admin/families`, {\n        familyId: newFamily.familyId,\n        leaderName: newFamily.leaderName,\n        email: newFamily.email,\n        password: newFamily.password,\n        members: newFamily.members ? newFamily.members.split(\",\").map(m => m.trim()) : [],\n        phone: newFamily.phone,\n        address: newFamily.address,\n      }, { headers });\n      setNewFamily({ familyId: \"\", leaderName: \"\", email: \"\", password: \"\", members: \"\", phone: \"\", address: \"\" });\n      await loadAll();\n    } catch {\n      alert(\"Failed to create family.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const approveFamily = async (id, approve) => {\n    try {\n      const confirmAction = window.confirm(`Are you sure you want to ${approve ? \"approve\" : \"reject\"} this family?`);\n      if (!confirmAction) return;\n      setLoading(true);\n      await axios.post(`${API_BASE}/api/admin/${approve ? \"families/approve\" : \"families/reject\"}`, { id }, { headers });\n      await loadAll();\n    } catch {\n      alert(\"Failed to update family status.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const toggleFamilySelection = id => {\n    setSelectedFamilies(prev => prev.includes(id) ? prev.filter(x => x !== id) : [...prev, id]);\n  };\n\n  const toggleSelectAll = () => {\n    if (selectAll) {\n      setSelectedFamilies([]);\n      setSelectAll(false);\n    } else {\n      setSelectedFamilies(families.map(f => f._id));\n      setSelectAll(true);\n    }\n  };\n\n  const addTaxBulk = async () => {\n    if (!taxMonth || !taxAmount || !selectedFamilies.length) {\n      alert(\"Please fill all tax details and select families.\");\n      return;\n    }\n    try {\n      setLoading(true);\n      await axios.post(`${API_BASE}/api/admin/families/tax`, {\n        familyIds: selectedFamilies,\n        month: taxMonth,\n        amount: taxAmount,\n        paid: taxPaid,\n      }, { headers });\n      setSelectedFamilies([]);\n      setSelectAll(false);\n      setTaxAmount(\"\");\n      setTaxPaid(false);\n      await loadAll();\n    } catch {\n      alert(\"Failed to add tax.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const markTaxPaid = async (familyId, month) => {\n    try {\n      setLoading(true);\n      await axios.patch(`${API_BASE}/api/admin/families/${familyId}/tax`, { month, paid: true }, { headers });\n      await loadAll();\n    } catch {\n      alert(\"Failed to update tax status.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const addEvent = async () => {\n    if (!newEvent.title || !newEvent.date) return alert(\"Please fill in event title and date.\");\n    try {\n      setLoading(true);\n      await axios.post(`${API_BASE}/api/admin/events`, newEvent, { headers });\n      setNewEvent({ title: \"\", date: \"\" });\n      await loadAll();\n    } catch {\n      alert(\"Failed to add event.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const deleteEvent = async id => {\n    if (!window.confirm(\"Are you sure to delete this event?\")) return;\n    try {\n      setLoading(true);\n      await axios.delete(`${API_BASE}/api/admin/events/${id}`, { headers });\n      await loadAll();\n    } catch {\n      alert(\"Failed to delete event.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const addWorker = async () => {\n    if (!newWorker.type) return alert(\"Please provide worker type.\");\n    try {\n      setLoading(true);\n      await axios.post(`${API_BASE}/api/admin/workers`, newWorker, { headers });\n      setNewWorker({ type: \"\", description: \"\" });\n      await loadAll();\n    } catch {\n      alert(\"Failed to add worker.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const deleteWorker = async id => {\n    if (!window.confirm(\"Are you sure to delete this worker?\")) return;\n    try {\n      setLoading(true);\n      await axios.delete(`${API_BASE}/api/admin/workers/${id}`, { headers });\n      await loadAll();\n    } catch {\n      alert(\"Failed to delete worker.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const addHistory = async () => {\n    if (!newHistory.contentEN && !newHistory.contentTA) {\n      alert(\"Please enter history content in at least one language.\");\n      return;\n    }\n    try {\n      setLoading(true);\n      await axios.post(`${API_BASE}/api/admin/history`, {\n        content: { en: newHistory.contentEN, ta: newHistory.contentTA }\n      }, { headers });\n      setNewHistory({ contentEN: \"\", contentTA: \"\" });\n      await loadAll();\n    } catch {\n      alert(\"Failed to add history.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const deleteHistory = async id => {\n    if (!window.confirm(\"Are you sure to delete this history entry?\")) return;\n    try {\n      setLoading(true);\n      await axios.delete(`${API_BASE}/api/admin/history/${id}`, { headers });\n      await loadAll();\n    } catch {\n      alert(\"Failed to delete history.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const uploadGallery = async () => {\n    if (!galleryFile) {\n      alert(\"Please select a file to upload.\");\n      return;\n    }\n    try {\n      setLoading(true);\n      const fd = new FormData();\n      fd.append(\"image\", galleryFile);\n      fd.append(\"title\", galleryMeta.title || \"Untitled\");\n      fd.append(\"description\", galleryMeta.description || \"\");\n      await axios.post(`${API_BASE}/api/admin/gallery`, fd, {\n        headers: { ...headers, \"Content-Type\": \"multipart/form-data\" }\n      });\n      setGalleryFile(null);\n      setGalleryMeta({ title: \"\", description: \"\" });\n      await loadAll();\n    } catch {\n      alert(\"Failed to upload gallery item.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const deleteGallery = async id => {\n    if (!window.confirm(\"Are you sure to delete this gallery item?\")) return;\n    try {\n      setLoading(true);\n      await axios.delete(`${API_BASE}/api/admin/gallery/${id}`, { headers });\n      await loadAll();\n    } catch {\n      alert(\"Failed to delete gallery.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const filteredFamilies = useMemo(() => {\n    if (!searchFamily.trim()) return families;\n    const lower = searchFamily.toLowerCase();\n    return families.filter(f => (f.familyId + \" \" + f.leaderName + \" \" + (f.email ?? \"\")).toLowerCase().includes(lower));\n  }, [families, searchFamily]);\n\n  const paidFamilies = useMemo(() => families.filter(f => f.taxHistory?.some(t => t.month === taxMonth && t.paid)), [families, taxMonth]);\n  const unpaidFamilies = useMemo(() => families.filter(f => !f.taxHistory?.some(t => t.month === taxMonth && t.paid)), [families, taxMonth]);\n  const totalPaid = useMemo(() => paidFamilies.reduce((acc, f) => acc + (Number(f.taxHistory.find(t => t.month === taxMonth && t.paid)?.amount) || 0), 0), [paidFamilies, taxMonth]);\n\n  return (\n    <div className=\"max-w-7xl mx-auto p-6 space-y-16\">\n\n      <h1 className=\"text-center text-4xl font-bold mb-10\">Admin Dashboard</h1>\n\n      {errorMsg && <p className=\"text-center text-red-600\">{errorMsg}</p>}\n      {loading && <p className=\"text-center text-blue-600\">Loading...</p>}\n\n      {/* Families Section */}\n      <section className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n\n        {/* Families List */}\n        <div className=\"md:col-span-2 flex flex-col bg-white rounded shadow p-6\">\n          <div className=\"flex flex-wrap justify-between items-center mb-6\">\n            <input type=\"search\" placeholder=\"Search families...\" value={searchFamily} onChange={e => setSearchFamily(e.target.value)} className=\"w-full sm:w-64 p-2 border rounded\" />\n            <div className=\"flex space-x-3 mt-2 sm:mt-0\">\n              <button onClick={loadAll} className=\"btn-secondary\">Refresh</button>\n              <button onClick={() => { if(window.confirm('Send notifications to all families?')) alert('Notifications queued') }} className=\"btn-yellow\">Notify All</button>\n            </div>\n          </div>\n          <div className=\"overflow-auto max-h-96 rounded border\">\n            <table className=\"w-full border-collapse text-sm\">\n              <thead className=\"sticky top-0 bg-gray-100 font-semibold\">\n                <tr>\n                  <th className=\"w-12 text-center\"><input type=\"checkbox\" checked={selectAll} onChange={() => {\n                    if(selectAll) setSelectedFamilies([]);\n                    else setSelectedFamilies(families.map(f => f._id));\n                    setSelectAll(!selectAll);\n                  }} /></th>\n                  <th>ID</th>\n                  <th>Leader</th>\n                  <th className=\"text-center\">Approved</th>\n                  <th>Latest Tax</th>\n                  <th className=\"text-center\">Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {filteredFamilies.length === 0 && (\n                  <tr><td colSpan={6} className=\"text-center p-4\">No families found.</td></tr>\n                )}\n                {filteredFamilies.map(f => {\n                  const lastTax = f.taxHistory?.slice(-1)[0];\n                  return (\n                    <tr key={f._id} className=\"hover:bg-gray-50\">\n                      <td className=\"text-center\"><input type=\"checkbox\" checked={selectedFamilies.includes(f._id)} onChange={() => setSelectedFamilies(prev => prev.includes(f._id) ? prev.filter(id => id !== f._id) : [...prev, f._id])} /></td>\n                      <td>{f.familyId}</td>\n                      <td>{f.leaderName}</td>\n                      <td className=\"text-center\">{f.approved ? \"Yes\" : \"No\"}</td>\n                      <td>{lastTax ? `${lastTax.month}: ₹${lastTax.amount} (${lastTax.paid ? \"Paid\" : \"Pending\"})` : \"-\"}</td>\n                      <td className=\"text-center space-x-2\">\n                        <button onClick={() => approveFamily(f._id, true)} disabled={loading} className=\"btn-green btn-xs\">Approve</button>\n                        <button onClick={() => approveFamily(f._id, false)} disabled={loading} className=\"btn-red btn-xs\">Reject</button>\n                      </td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n        {/* Create Family */}\n        <div className=\"bg-white rounded shadow p-6 sticky top-0\">\n          <h2 className=\"text-2xl font-semibold mb-6\">Add New Family</h2>\n          <input className=\"input mb-2\" placeholder=\"Family ID\" value={newFamily.familyId} onChange={e => setNewFamily({...newFamily, familyId: e.target.value})} />\n          <input className=\"input mb-2\" placeholder=\"Leader Name\" value={newFamily.leaderName} onChange={e => setNewFamily({...newFamily, leaderName: e.target.value})} />\n          <input className=\"input mb-2\" placeholder=\"Email\" type=\"email\" value={newFamily.email} onChange={e => setNewFamily({...newFamily, email: e.target.value})} />\n          <input className=\"input mb-2\" placeholder=\"Password\" type=\"password\" value={newFamily.password} onChange={e => setNewFamily({...newFamily, password: e.target.value})} />\n          <input className=\"input mb-2\" placeholder=\"Members (comma-separated)\" value={newFamily.members} onChange={e => setNewFamily({...newFamily, members: e.target.value})} />\n          <input className=\"input mb-2\" placeholder=\"Phone\" value={newFamily.phone} onChange={e => setNewFamily({...newFamily, phone: e.target.value})} />\n          <input className=\"input mb-2\" placeholder=\"Address\" value={newFamily.address} onChange={e => setNewFamily({...newFamily, address: e.target.value})} />\n          <button className=\"btn-blue w-full\" onClick={createFamily} disabled={loading}>Create Family</button>\n        </div>\n      </section>\n\n      {/* Tax Section */}\n      <section className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12\">\n        <article className=\"bg-white rounded shadow p-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">Add Bulk Tax</h3>\n          <div className=\"space-y-3\">\n            <label className=\"flex items-center gap-2\">\n              <input type=\"checkbox\" checked={selectAll} onChange={() => {\n                if(selectAll) setSelectedFamilies([]);\n                else setSelectedFamilies(families.map(f => f._id));\n                setSelectAll(!selectAll);\n              }} />\n              Select All Families\n            </label>\n            <input type=\"month\" className=\"input\" value={taxMonth} onChange={e => setTaxMonth(e.target.value)} />\n            <input type=\"number\" className=\"input\" placeholder=\"Amount\" value={taxAmount} onChange={e => setTaxAmount(e.target.value)} />\n            <label className=\"flex items-center gap-2\">\n              <input type=\"checkbox\" checked={taxPaid} onChange={e => setTaxPaid(e.target.checked)} />\n              Mark As Paid\n            </label>\n            <button className=\"btn-green w-full\" onClick={addTaxBulk} disabled={loading}>Add Tax</button>\n            <p className=\"text-center font-bold mt-4\">Total Paid: ₹{totalPaid}</p>\n          </div>\n        </article>\n\n        <article className=\"bg-white rounded shadow p-6 max-h-[400px] overflow-auto\">\n          <h3 className=\"text-lg font-semibold mb-4\">Paid Families</h3>\n          {!paidFamilies.length && <p>No paid families.</p>}\n          {paidFamilies.map(f => (\n            <div key={f._id} className=\"bg-green-100 rounded p-2 mb-2 flex justify-between\">\n              <span>{f.familyId} — {f.leaderName}</span>\n              <strong>₹{f.taxHistory.find(t => t.month === taxMonth && t.paid)?.amount || 0}</strong>\n            </div>\n          ))}\n        </article>\n\n        <article className=\"bg-white rounded shadow p-6 max-h-[400px] overflow-auto\">\n          <h3 className=\"text-lg font-semibold mb-4\">Pending Families</h3>\n          {!unpaidFamilies.length && <p>No pending families.</p>}\n          {unpaidFamilies.map(f => {\n            const amount = f.taxHistory.find(t => t.month === taxMonth)?.amount || taxAmount || \"-\";\n            return (\n              <div key={f._id} className=\"bg-red-100 rounded p-2 mb-2 flex justify-between\">\n                <span>{f.familyId} — {f.leaderName} • ₹{amount}</span>\n                <button className=\"btn-blue\" onClick={() => markTaxPaid(f._id, taxMonth)} disabled={loading}>Mark Paid</button>\n              </div>\n            );\n          })}\n        </article>\n      </section>\n\n      {/* Events & Workers */}\n      <section className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12\">\n        <article className=\"bg-white rounded shadow p-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">Events</h3>\n          <ul className=\"overflow-auto max-h-64 divide-y divide-gray-200\">\n            {!events.length && <p>No events found.</p>}\n            {events.map(ev => (\n              <li key={ev._id} className=\"flex justify-between py-2\">\n                <span>{ev.title} ({new Date(ev.date).toLocaleDateString()})</span>\n                <button className=\"btn-red btn-xs\" onClick={() => deleteEvent(ev._id)}>Delete</button>\n              </li>\n            ))}\n          </ul>\n          <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-2 mt-4\">\n            <input className=\"input\" placeholder=\"Title\" value={newEvent.title} onChange={e => setNewEvent({...newEvent, title: e.target.value})} />\n            <input className=\"input\" type=\"date\" value={newEvent.date} onChange={e => setNewEvent({...newEvent, date: e.target.value})} />\n            <button className=\"btn-green\" onClick={addEvent}>Add Event</button>\n          </div>\n        </article>\n\n        <article className=\"bg-white rounded shadow p-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">Workers</h3>\n          <ul className=\"overflow-auto max-h-64 divide-y divide-gray-200\">\n            {!workers.length && <p>No workers found.</p>}\n            {workers.map(w => (\n              <li key={w._id} className=\"flex justify-between py-2\">\n                <span>{w.type} — {w.description}</span>\n                <button className=\"btn-red btn-xs\" onClick={() => deleteWorker(w._id)}>Delete</button>\n              </li>\n            ))}\n          </ul>\n          <div className=\"grid gap-2 mt-4\">\n            <input className=\"input\" placeholder=\"Type\" value={newWorker.type} onChange={e => setNewWorker({...newWorker, type: e.target.value})} />\n            <input className=\"input\" placeholder=\"Description\" value={newWorker.description} onChange={e => setNewWorker({...newWorker, description: e.target.value})} />\n            <button className=\"btn-green\" onClick={addWorker}>Add Worker</button>\n          </div>\n        </article>\n      </section>\n\n      {/* History & Gallery */}\n      <section className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <article className=\"bg-white rounded shadow p-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">History</h3>\n          <ul className=\"overflow-auto max-h-64 divide-y divide-gray-200\">\n            {!historyItems.length && <p>No history records.</p>}\n            {historyItems.map(item => (\n              <li key={item._id} className=\"flex justify-between py-2\">\n                <span>{item.content?.en || item.content?.ta}</span>\n                <button className=\"btn-red btn-xs\" onClick={() => deleteHistory(item._id)}>Delete</button>\n              </li>\n            ))}\n          </ul>\n          <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-2 mt-4\">\n            <input className=\"input\" placeholder=\"Content English\" value={newHistory.contentEN} onChange={e => setNewHistory({...newHistory, contentEN: e.target.value})} />\n            <input className=\"input\" placeholder=\"Content Other\" value={newHistory.contentTA} onChange={e => setNewHistory({...newHistory, contentTA: e.target.value})} />\n            <button className=\"btn-green\" onClick={addHistory}>Add History</button>\n          </div>\n        </article>\n\n        <article className=\"bg-white rounded shadow p-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">Gallery</h3>\n          <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\n            {!gallery.length && <p>No gallery items.</p>}\n            {gallery.map(item => (\n              <div key={item._id} className=\"border rounded p-4 flex flex-col\">\n                <a href={`${API_BASE}${item.url}`} target=\"_blank\" rel=\"noreferrer\" className=\"mb-2 truncate text-blue-600 hover:underline\">{item.title || \"Untitled\"}</a>\n                <p className=\"text-sm text-gray-500 mb-4 truncate\">{item.description || \"\"}</p>\n                <button className=\"btn-red btn-xs mt-auto\" onClick={() => deleteGallery(item._id)}>Delete</button>\n              </div>\n            ))}\n          </div>\n          <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-3 mt-4\">\n            <input type=\"file\" onChange={e => setGalleryFile(e.target.files[0])} />\n            <input className=\"input\" placeholder=\"Title\" value={galleryMeta.title} onChange={e => setGalleryMeta({...galleryMeta, title: e.target.value})} />\n            <input className=\"input\" placeholder=\"Description\" value={galleryMeta.description} onChange={e => setGalleryMeta({...galleryMeta, description: e.target.value})} />\n            <button className=\"btn-green\" onClick={uploadGallery} disabled={!galleryFile}>Upload</button>\n          </div>\n        </article>\n      </section>\n\n    </div>\n  );\n};\n\nexport default AdminDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}