{"ast":null,"code":"import _objectSpread from\"C:/Users/murug/OneDrive/Desktop/uk-portal/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminDashboard=()=>{const API_BASE=process.env.REACT_APP_API_URL||\"http://localhost:5000\";const token=localStorage.getItem(\"adminToken\");const headers={Authorization:\"Bearer \".concat(token)};// ---------------- States ----------------\nconst[families,setFamilies]=useState([]);const[events,setEvents]=useState([]);const[workers,setWorkers]=useState([]);const[history,setHistory]=useState([]);const[gallery,setGallery]=useState([]);const[loading,setLoading]=useState(false);// Form states\nconst[newFamily,setNewFamily]=useState({});const[taxData,setTaxData]=useState({month:\"\",amount:\"\",paid:false});const[selectedFamilies,setSelectedFamilies]=useState([]);const[selectAll,setSelectAll]=useState(false);const[newEvent,setNewEvent]=useState({});const[newWorker,setNewWorker]=useState({});const[newHistory,setNewHistory]=useState({content:{en:\"\",ta:\"\"}});const[galleryFile,setGalleryFile]=useState(null);const[newGallery,setNewGallery]=useState({title:\"\",description:\"\"});// ---------------- Load Data ----------------\nconst loadAll=async()=>{try{setLoading(true);const[familiesRes,eventsRes,workersRes,historyRes,galleryRes]=await Promise.all([axios.get(\"\".concat(API_BASE,\"/api/admin/families\"),{headers}),axios.get(\"\".concat(API_BASE,\"/api/admin/events\"),{headers}),axios.get(\"\".concat(API_BASE,\"/api/admin/workers\"),{headers}),axios.get(\"\".concat(API_BASE,\"/api/admin/history\"),{headers}),axios.get(\"\".concat(API_BASE,\"/api/admin/gallery\"),{headers})]);setFamilies(familiesRes.data||[]);setEvents(eventsRes.data||[]);setWorkers(workersRes.data||[]);setHistory(historyRes.data||[]);setGallery(galleryRes.data||[]);}catch(err){var _err$response;console.error(\"Load error:\",((_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.data)||err.message);}finally{setLoading(false);}};useEffect(()=>{if(token)loadAll();},[token]);// ---------------- Families ----------------\nconst createFamily=async()=>{if(!newFamily.familyId||!newFamily.password||!newFamily.leaderName||!newFamily.email)return alert(\"Family ID, Password, Leader Name, Email required\");try{setLoading(true);await axios.post(\"\".concat(API_BASE,\"/api/admin/families\"),newFamily,{headers});setNewFamily({});loadAll();}catch(err){var _err$response2;console.error(\"Create family error:\",((_err$response2=err.response)===null||_err$response2===void 0?void 0:_err$response2.data)||err.message);}finally{setLoading(false);}};const approveFamily=async(id,approved)=>{try{await axios.post(\"\".concat(API_BASE,\"/api/admin/families/approve\"),{id,approved},{headers});loadAll();}catch(err){var _err$response3;console.error(\"Approve error:\",((_err$response3=err.response)===null||_err$response3===void 0?void 0:_err$response3.data)||err.message);}};// ---------------- Tax ----------------\nconst toggleSelectFamily=id=>{setSelectedFamilies(prev=>prev.includes(id)?prev.filter(fid=>fid!==id):[...prev,id]);};const toggleSelectAll=()=>{if(selectAll){setSelectedFamilies([]);setSelectAll(false);}else{setSelectedFamilies(families.map(f=>f._id));setSelectAll(true);}};const addTax=async()=>{if(!taxData.month||!taxData.amount)return alert(\"Month & amount required\");if(!selectedFamilies.length)return alert(\"Select at least one family\");try{setLoading(true);await axios.post(\"\".concat(API_BASE,\"/api/admin/families/tax/bulk\"),_objectSpread({familyIds:selectedFamilies},taxData),{headers});setTaxData({month:\"\",amount:\"\",paid:false});setSelectedFamilies([]);setSelectAll(false);loadAll();}catch(err){var _err$response4;console.error(\"Add tax error:\",((_err$response4=err.response)===null||_err$response4===void 0?void 0:_err$response4.data)||err.message);}finally{setLoading(false);}};// ---------------- Generic Add/Delete ----------------\nconst addItem=async(endpoint,data,resetCallback)=>{try{setLoading(true);await axios.post(\"\".concat(API_BASE,\"/api/admin/\").concat(endpoint),data,{headers});if(resetCallback)resetCallback();loadAll();}catch(err){var _err$response5;console.error(\"Add \".concat(endpoint,\" error:\"),((_err$response5=err.response)===null||_err$response5===void 0?void 0:_err$response5.data)||err.message);}finally{setLoading(false);}};const deleteItem=async(endpoint,id)=>{try{await axios.delete(\"\".concat(API_BASE,\"/api/admin/\").concat(endpoint,\"/\").concat(id),{headers});loadAll();}catch(err){var _err$response6;console.error(\"Delete \".concat(endpoint,\" error:\"),((_err$response6=err.response)===null||_err$response6===void 0?void 0:_err$response6.data)||err.message);}};// ---------------- Gallery Upload ----------------\nconst uploadGallery=async()=>{if(!galleryFile)return alert(\"Select a file\");try{setLoading(true);const formData=new FormData();formData.append(\"image\",galleryFile);formData.append(\"title\",newGallery.title||\"Untitled\");formData.append(\"description\",newGallery.description||\"\");await axios.post(\"\".concat(API_BASE,\"/api/admin/gallery/upload\"),formData,{headers:_objectSpread(_objectSpread({},headers),{},{\"Content-Type\":\"multipart/form-data\"})});setGalleryFile(null);setNewGallery({title:\"\",description:\"\"});loadAll();}catch(err){var _err$response7;console.error(\"Upload gallery error:\",((_err$response7=err.response)===null||_err$response7===void 0?void 0:_err$response7.data)||err.message);}finally{setLoading(false);}};// ---------------- Paid / Not Paid ----------------\nconst paidFamilies=families.filter(f=>{var _f$taxHistory;return((_f$taxHistory=f.taxHistory)===null||_f$taxHistory===void 0?void 0:_f$taxHistory.length)&&f.taxHistory[f.taxHistory.length-1].paid;});const unpaidFamilies=families.filter(f=>{var _f$taxHistory2;return((_f$taxHistory2=f.taxHistory)===null||_f$taxHistory2===void 0?void 0:_f$taxHistory2.length)&&!f.taxHistory[f.taxHistory.length-1].paid;});// ---------------- Render ----------------\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 md:p-6 max-w-7xl mx-auto space-y-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-center mb-6\",children:\"Admin Dashboard\"}),loading&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-blue-600 font-semibold\",children:\"Processing...\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border rounded space-y-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-semibold text-lg\",children:\"Families\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full border-collapse border text-sm md:text-base\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-100\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"border p-2\",children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border p-2\",children:\"Leader\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border p-2\",children:\"Approved\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border p-2\",children:\"Tax Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border p-2\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:families.map(f=>{var _f$taxHistory3;const latestTax=(_f$taxHistory3=f.taxHistory)!==null&&_f$taxHistory3!==void 0&&_f$taxHistory3.length?f.taxHistory[f.taxHistory.length-1]:null;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"border p-2\",children:f.familyId}),/*#__PURE__*/_jsx(\"td\",{className:\"border p-2\",children:f.leaderName}),/*#__PURE__*/_jsx(\"td\",{className:\"border p-2\",children:f.approved?\"Yes\":\"No\"}),/*#__PURE__*/_jsx(\"td\",{className:\"border p-2\",children:latestTax?latestTax.paid?\"Paid (\".concat(latestTax.amount,\")\"):\"Unpaid (\".concat(latestTax.amount,\")\"):\"No Tax\"}),/*#__PURE__*/_jsxs(\"td\",{className:\"border p-2 space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>approveFamily(f._id,true),className:\"bg-green-600 text-white px-2 py-1 rounded\",children:\"Approve\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>approveFamily(f._id,false),className:\"bg-red-600 text-white px-2 py-1 rounded\",children:\"Reject\"})]})]},f._id);})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row flex-wrap gap-2 mt-3 items-center\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectAll,onChange:toggleSelectAll}),\" Select All\"]}),families.map(f=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedFamilies.includes(f._id),onChange:()=>toggleSelectFamily(f._id)}),\" \",f.familyId]},f._id)),/*#__PURE__*/_jsx(\"input\",{type:\"month\",value:taxData.month,onChange:e=>setTaxData(_objectSpread(_objectSpread({},taxData),{},{month:e.target.value})),className:\"border p-2\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Amount\",value:taxData.amount,onChange:e=>setTaxData(_objectSpread(_objectSpread({},taxData),{},{amount:e.target.value})),className:\"border p-2\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:taxData.paid,onChange:e=>setTaxData(_objectSpread(_objectSpread({},taxData),{},{paid:e.target.checked}))}),\" Paid\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:addTax,className:\"bg-green-600 text-white px-3 py-1 rounded\",children:\"Add Tax\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-4 mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border p-3 flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold\",children:\"Paid Families\"}),paidFamilies.map(f=>/*#__PURE__*/_jsxs(\"p\",{children:[f.familyId,\" (\",f.leaderName,\")\"]},f._id))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border p-3 flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold\",children:\"Not Paid Families\"}),unpaidFamilies.map(f=>/*#__PURE__*/_jsxs(\"p\",{children:[f.familyId,\" (\",f.leaderName,\")\"]},f._id))]})]})]}),/*#__PURE__*/_jsx(Section,{title:\"Events\",items:events,fields:[\"title\",\"date\"],addData:newEvent,setAddData:setNewEvent,addItem:()=>addItem(\"events\",newEvent,()=>setNewEvent({})),deleteItem:id=>deleteItem(\"events\",id)}),/*#__PURE__*/_jsx(Section,{title:\"Workers\",items:workers,fields:[\"type\"],addData:newWorker,setAddData:setNewWorker,addItem:()=>addItem(\"workers\",newWorker,()=>setNewWorker({})),deleteItem:id=>deleteItem(\"workers\",id)}),/*#__PURE__*/_jsx(Section,{title:\"History\",items:history,fields:[\"content.en\",\"content.ta\"],addData:newHistory,setAddData:setNewHistory,addItem:()=>addItem(\"history\",newHistory,()=>setNewHistory({content:{en:\"\",ta:\"\"}})),deleteItem:id=>deleteItem(\"history\",id)}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border rounded space-y-3\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-semibold text-lg\",children:\"Gallery\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc pl-6\",children:gallery.map(g=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex justify-between items-center flex-wrap\",children:[/*#__PURE__*/_jsx(\"span\",{children:g.title}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteItem(\"gallery\",g._id),className:\"text-red-600 underline ml-2\",children:\"Delete\"})]},g._id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-2 mt-2 items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:e=>setGalleryFile(e.target.files[0]),className:\"border p-2 flex-1\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Title\",value:newGallery.title,onChange:e=>setNewGallery(_objectSpread(_objectSpread({},newGallery),{},{title:e.target.value})),className:\"border p-2 flex-1\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Description\",value:newGallery.description,onChange:e=>setNewGallery(_objectSpread(_objectSpread({},newGallery),{},{description:e.target.value})),className:\"border p-2 flex-1\"}),/*#__PURE__*/_jsx(\"button\",{onClick:uploadGallery,className:\"bg-green-600 text-white px-3 py-1 rounded\",children:\"Upload\"})]})]})]});};// ---------------- Reusable Section Component ----------------\nconst Section=_ref=>{let{title,items,fields,addData,setAddData,addItem,deleteItem}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border rounded space-y-3\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-semibold text-lg\",children:title}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc pl-6\",children:items.map(item=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex justify-between items-center flex-wrap\",children:[/*#__PURE__*/_jsx(\"span\",{children:fields.map(f=>f.split('.').reduce((a,b)=>a===null||a===void 0?void 0:a[b],item)).filter(Boolean).join(' / ')}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteItem(item._id),className:\"text-red-600 underline ml-2\",children:\"Delete\"})]},item._id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-2 mt-2\",children:[fields.map(f=>{const keys=f.split('.');let value=keys.reduce((a,b)=>a===null||a===void 0?void 0:a[b],addData)||\"\";return/*#__PURE__*/_jsx(\"input\",{placeholder:keys.join(' '),value:value,onChange:e=>{const updated=_objectSpread({},addData);let curr=updated;for(let i=0;i<keys.length-1;i++)curr=curr[keys[i]];curr[keys[keys.length-1]]=e.target.value;setAddData(updated);},className:\"border p-2 flex-1\"},f);}),/*#__PURE__*/_jsxs(\"button\",{onClick:addItem,className:\"bg-green-600 text-white px-3 py-1 rounded\",children:[\"Add \",title]})]})]});};export default AdminDashboard;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","AdminDashboard","API_BASE","process","env","REACT_APP_API_URL","token","localStorage","getItem","headers","Authorization","concat","families","setFamilies","events","setEvents","workers","setWorkers","history","setHistory","gallery","setGallery","loading","setLoading","newFamily","setNewFamily","taxData","setTaxData","month","amount","paid","selectedFamilies","setSelectedFamilies","selectAll","setSelectAll","newEvent","setNewEvent","newWorker","setNewWorker","newHistory","setNewHistory","content","en","ta","galleryFile","setGalleryFile","newGallery","setNewGallery","title","description","loadAll","familiesRes","eventsRes","workersRes","historyRes","galleryRes","Promise","all","get","data","err","_err$response","console","error","response","message","createFamily","familyId","password","leaderName","email","alert","post","_err$response2","approveFamily","id","approved","_err$response3","toggleSelectFamily","prev","includes","filter","fid","toggleSelectAll","map","f","_id","addTax","length","_objectSpread","familyIds","_err$response4","addItem","endpoint","resetCallback","_err$response5","deleteItem","delete","_err$response6","uploadGallery","formData","FormData","append","_err$response7","paidFamilies","_f$taxHistory","taxHistory","unpaidFamilies","_f$taxHistory2","className","children","_f$taxHistory3","latestTax","onClick","type","checked","onChange","value","e","target","placeholder","Section","items","fields","addData","setAddData","g","files","_ref","item","split","reduce","a","b","Boolean","join","keys","updated","curr","i"],"sources":["C:/Users/murug/OneDrive/Desktop/uk-portal/client/src/pages/AdminDashboard.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nconst AdminDashboard = () => {\n  const API_BASE = process.env.REACT_APP_API_URL || \"http://localhost:5000\";\n  const token = localStorage.getItem(\"adminToken\");\n  const headers = { Authorization: `Bearer ${token}` };\n\n  // ---------------- States ----------------\n  const [families, setFamilies] = useState([]);\n  const [events, setEvents] = useState([]);\n  const [workers, setWorkers] = useState([]);\n  const [history, setHistory] = useState([]);\n  const [gallery, setGallery] = useState([]);\n\n  const [loading, setLoading] = useState(false);\n\n  // Form states\n  const [newFamily, setNewFamily] = useState({});\n  const [taxData, setTaxData] = useState({ month: \"\", amount: \"\", paid: false });\n  const [selectedFamilies, setSelectedFamilies] = useState([]);\n  const [selectAll, setSelectAll] = useState(false);\n\n  const [newEvent, setNewEvent] = useState({});\n  const [newWorker, setNewWorker] = useState({});\n  const [newHistory, setNewHistory] = useState({ content: { en: \"\", ta: \"\" } });\n  const [galleryFile, setGalleryFile] = useState(null);\n  const [newGallery, setNewGallery] = useState({ title: \"\", description: \"\" });\n\n  // ---------------- Load Data ----------------\n  const loadAll = async () => {\n    try {\n      setLoading(true);\n      const [familiesRes, eventsRes, workersRes, historyRes, galleryRes] = await Promise.all([\n        axios.get(`${API_BASE}/api/admin/families`, { headers }),\n        axios.get(`${API_BASE}/api/admin/events`, { headers }),\n        axios.get(`${API_BASE}/api/admin/workers`, { headers }),\n        axios.get(`${API_BASE}/api/admin/history`, { headers }),\n        axios.get(`${API_BASE}/api/admin/gallery`, { headers }),\n      ]);\n      setFamilies(familiesRes.data || []);\n      setEvents(eventsRes.data || []);\n      setWorkers(workersRes.data || []);\n      setHistory(historyRes.data || []);\n      setGallery(galleryRes.data || []);\n    } catch (err) {\n      console.error(\"Load error:\", err.response?.data || err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (token) loadAll();\n  }, [token]);\n\n  // ---------------- Families ----------------\n  const createFamily = async () => {\n    if (!newFamily.familyId || !newFamily.password || !newFamily.leaderName || !newFamily.email)\n      return alert(\"Family ID, Password, Leader Name, Email required\");\n    try {\n      setLoading(true);\n      await axios.post(`${API_BASE}/api/admin/families`, newFamily, { headers });\n      setNewFamily({});\n      loadAll();\n    } catch (err) {\n      console.error(\"Create family error:\", err.response?.data || err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const approveFamily = async (id, approved) => {\n    try {\n      await axios.post(`${API_BASE}/api/admin/families/approve`, { id, approved }, { headers });\n      loadAll();\n    } catch (err) {\n      console.error(\"Approve error:\", err.response?.data || err.message);\n    }\n  };\n\n  // ---------------- Tax ----------------\n  const toggleSelectFamily = (id) => {\n    setSelectedFamilies((prev) =>\n      prev.includes(id) ? prev.filter((fid) => fid !== id) : [...prev, id]\n    );\n  };\n\n  const toggleSelectAll = () => {\n    if (selectAll) {\n      setSelectedFamilies([]);\n      setSelectAll(false);\n    } else {\n      setSelectedFamilies(families.map((f) => f._id));\n      setSelectAll(true);\n    }\n  };\n\n  const addTax = async () => {\n    if (!taxData.month || !taxData.amount) return alert(\"Month & amount required\");\n    if (!selectedFamilies.length) return alert(\"Select at least one family\");\n    try {\n      setLoading(true);\n      await axios.post(`${API_BASE}/api/admin/families/tax/bulk`, { familyIds: selectedFamilies, ...taxData }, { headers });\n      setTaxData({ month: \"\", amount: \"\", paid: false });\n      setSelectedFamilies([]);\n      setSelectAll(false);\n      loadAll();\n    } catch (err) {\n      console.error(\"Add tax error:\", err.response?.data || err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // ---------------- Generic Add/Delete ----------------\n  const addItem = async (endpoint, data, resetCallback) => {\n    try {\n      setLoading(true);\n      await axios.post(`${API_BASE}/api/admin/${endpoint}`, data, { headers });\n      if (resetCallback) resetCallback();\n      loadAll();\n    } catch (err) {\n      console.error(`Add ${endpoint} error:`, err.response?.data || err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const deleteItem = async (endpoint, id) => {\n    try {\n      await axios.delete(`${API_BASE}/api/admin/${endpoint}/${id}`, { headers });\n      loadAll();\n    } catch (err) {\n      console.error(`Delete ${endpoint} error:`, err.response?.data || err.message);\n    }\n  };\n\n  // ---------------- Gallery Upload ----------------\n  const uploadGallery = async () => {\n    if (!galleryFile) return alert(\"Select a file\");\n    try {\n      setLoading(true);\n      const formData = new FormData();\n      formData.append(\"image\", galleryFile);\n      formData.append(\"title\", newGallery.title || \"Untitled\");\n      formData.append(\"description\", newGallery.description || \"\");\n\n      await axios.post(`${API_BASE}/api/admin/gallery/upload`, formData, { headers: { ...headers, \"Content-Type\": \"multipart/form-data\" } });\n      setGalleryFile(null);\n      setNewGallery({ title: \"\", description: \"\" });\n      loadAll();\n    } catch (err) {\n      console.error(\"Upload gallery error:\", err.response?.data || err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // ---------------- Paid / Not Paid ----------------\n  const paidFamilies = families.filter((f) => f.taxHistory?.length && f.taxHistory[f.taxHistory.length - 1].paid);\n  const unpaidFamilies = families.filter((f) => f.taxHistory?.length && !f.taxHistory[f.taxHistory.length - 1].paid);\n\n  // ---------------- Render ----------------\n  return (\n    <div className=\"p-4 md:p-6 max-w-7xl mx-auto space-y-8\">\n      <h1 className=\"text-3xl font-bold text-center mb-6\">Admin Dashboard</h1>\n      {loading && <p className=\"text-center text-blue-600 font-semibold\">Processing...</p>}\n\n      {/* Families / Tax */}\n      <div className=\"p-4 border rounded space-y-4\">\n        <h2 className=\"font-semibold text-lg\">Families</h2>\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full border-collapse border text-sm md:text-base\">\n            <thead className=\"bg-gray-100\">\n              <tr>\n                <th className=\"border p-2\">ID</th>\n                <th className=\"border p-2\">Leader</th>\n                <th className=\"border p-2\">Approved</th>\n                <th className=\"border p-2\">Tax Status</th>\n                <th className=\"border p-2\">Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {families.map((f) => {\n                const latestTax = f.taxHistory?.length ? f.taxHistory[f.taxHistory.length - 1] : null;\n                return (\n                  <tr key={f._id}>\n                    <td className=\"border p-2\">{f.familyId}</td>\n                    <td className=\"border p-2\">{f.leaderName}</td>\n                    <td className=\"border p-2\">{f.approved ? \"Yes\" : \"No\"}</td>\n                    <td className=\"border p-2\">\n                      {latestTax ? (latestTax.paid ? `Paid (${latestTax.amount})` : `Unpaid (${latestTax.amount})`) : \"No Tax\"}\n                    </td>\n                    <td className=\"border p-2 space-x-2\">\n                      <button onClick={() => approveFamily(f._id, true)} className=\"bg-green-600 text-white px-2 py-1 rounded\">Approve</button>\n                      <button onClick={() => approveFamily(f._id, false)} className=\"bg-red-600 text-white px-2 py-1 rounded\">Reject</button>\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n\n        {/* Tax Actions */}\n        <div className=\"flex flex-col md:flex-row flex-wrap gap-2 mt-3 items-center\">\n          <label className=\"flex items-center gap-1\">\n            <input type=\"checkbox\" checked={selectAll} onChange={toggleSelectAll} /> Select All\n          </label>\n          {families.map((f) => (\n            <label key={f._id} className=\"flex items-center gap-1\">\n              <input type=\"checkbox\" checked={selectedFamilies.includes(f._id)} onChange={() => toggleSelectFamily(f._id)} /> {f.familyId}\n            </label>\n          ))}\n          <input type=\"month\" value={taxData.month} onChange={(e) => setTaxData({ ...taxData, month: e.target.value })} className=\"border p-2\" />\n          <input placeholder=\"Amount\" value={taxData.amount} onChange={(e) => setTaxData({ ...taxData, amount: e.target.value })} className=\"border p-2\" />\n          <label className=\"flex items-center gap-1\">\n            <input type=\"checkbox\" checked={taxData.paid} onChange={(e) => setTaxData({ ...taxData, paid: e.target.checked })} /> Paid\n          </label>\n          <button onClick={addTax} className=\"bg-green-600 text-white px-3 py-1 rounded\">Add Tax</button>\n        </div>\n\n        {/* Paid / Not Paid Cards */}\n        <div className=\"flex flex-col sm:flex-row gap-4 mt-4\">\n          <div className=\"border p-3 flex-1\">\n            <h3 className=\"font-semibold\">Paid Families</h3>\n            {paidFamilies.map((f) => (<p key={f._id}>{f.familyId} ({f.leaderName})</p>))}\n          </div>\n          <div className=\"border p-3 flex-1\">\n            <h3 className=\"font-semibold\">Not Paid Families</h3>\n            {unpaidFamilies.map((f) => (<p key={f._id}>{f.familyId} ({f.leaderName})</p>))}\n          </div>\n        </div>\n      </div>\n\n      {/* Events / Workers / History / Gallery */}\n      <Section title=\"Events\" items={events} fields={[\"title\", \"date\"]} addData={newEvent} setAddData={setNewEvent} addItem={() => addItem(\"events\", newEvent, () => setNewEvent({}))} deleteItem={(id) => deleteItem(\"events\", id)} />\n      <Section title=\"Workers\" items={workers} fields={[\"type\"]} addData={newWorker} setAddData={setNewWorker} addItem={() => addItem(\"workers\", newWorker, () => setNewWorker({}))} deleteItem={(id) => deleteItem(\"workers\", id)} />\n      <Section title=\"History\" items={history} fields={[\"content.en\", \"content.ta\"]} addData={newHistory} setAddData={setNewHistory} addItem={() => addItem(\"history\", newHistory, () => setNewHistory({ content: { en: \"\", ta: \"\" } }))} deleteItem={(id) => deleteItem(\"history\", id)} />\n      \n      {/* Gallery Special */}\n      <div className=\"p-4 border rounded space-y-3\">\n        <h2 className=\"font-semibold text-lg\">Gallery</h2>\n        <ul className=\"list-disc pl-6\">\n          {gallery.map((g) => (\n            <li key={g._id} className=\"flex justify-between items-center flex-wrap\">\n              <span>{g.title}</span>\n              <button onClick={() => deleteItem(\"gallery\", g._id)} className=\"text-red-600 underline ml-2\">Delete</button>\n            </li>\n          ))}\n        </ul>\n        <div className=\"flex flex-col sm:flex-row gap-2 mt-2 items-center\">\n          <input type=\"file\" onChange={(e) => setGalleryFile(e.target.files[0])} className=\"border p-2 flex-1\" />\n          <input placeholder=\"Title\" value={newGallery.title} onChange={(e) => setNewGallery({ ...newGallery, title: e.target.value })} className=\"border p-2 flex-1\" />\n          <input placeholder=\"Description\" value={newGallery.description} onChange={(e) => setNewGallery({ ...newGallery, description: e.target.value })} className=\"border p-2 flex-1\" />\n          <button onClick={uploadGallery} className=\"bg-green-600 text-white px-3 py-1 rounded\">Upload</button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// ---------------- Reusable Section Component ----------------\nconst Section = ({ title, items, fields, addData, setAddData, addItem, deleteItem }) => {\n  return (\n    <div className=\"p-4 border rounded space-y-3\">\n      <h2 className=\"font-semibold text-lg\">{title}</h2>\n      <ul className=\"list-disc pl-6\">\n        {items.map((item) => (\n          <li key={item._id} className=\"flex justify-between items-center flex-wrap\">\n            <span>{fields.map((f) => f.split('.').reduce((a,b) => a?.[b], item)).filter(Boolean).join(' / ')}</span>\n            <button onClick={() => deleteItem(item._id)} className=\"text-red-600 underline ml-2\">Delete</button>\n          </li>\n        ))}\n      </ul>\n      <div className=\"flex flex-col sm:flex-row gap-2 mt-2\">\n        {fields.map((f) => {\n          const keys = f.split('.');\n          let value = keys.reduce((a,b) => a?.[b], addData) || \"\";\n          return (\n            <input\n              key={f}\n              placeholder={keys.join(' ')}\n              value={value}\n              onChange={(e) => {\n                const updated = { ...addData };\n                let curr = updated;\n                for (let i = 0; i < keys.length - 1; i++) curr = curr[keys[i]];\n                curr[keys[keys.length - 1]] = e.target.value;\n                setAddData(updated);\n              }}\n              className=\"border p-2 flex-1\"\n            />\n          );\n        })}\n        <button onClick={addItem} className=\"bg-green-600 text-white px-3 py-1 rounded\">Add {title}</button>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}